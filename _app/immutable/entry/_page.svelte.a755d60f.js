import{S as K,i as x,s as ee,a as M,e as T,t as F,g as N,c as y,b as C,d as q,f as _,L as I,R as L,a1 as te,h as w,j as k,M as ne,o as $,p as Z,q as O,r as J,k as ae,Z as Ke,N as ke,O as ie,T as we,n as se,x as Y,C as R,D as G,E as W,H as z,Y as oe,m as et,u as tt,v as lt,w as nt,l as st,Q as xe,a2 as de}from"../chunks/index.a9313273.js";import{s as me,o as re,c as Ee,l as be,a as De,d as ot,b as Te}from"../chunks/stores.2b681d38.js";import{T as ft,M as ce,B as fe,s as it}from"../chunks/api.8ee997d9.js";function ge(s){const l=new Date(s.date_start).valueOf(),t=new Date(s.date_end).valueOf();return Math.abs(l-t)/864e5}function ve(s,e){const l=new Date(s.date_start),t=24*60*60*1e3,n=new Date(e);return Math.abs(n.valueOf()-l.valueOf())/t}function ye(s){let e;return{c(){e=T("div"),this.h()},l(l){e=y(l,"DIV",{class:!0,style:!0}),C(e).forEach(_),this.h()},h(){I(e,"class","shadow svelte-1mexrbq"),L(e,"--width_day",s[2]+"px"),L(e,"--event_offset",s[2]*ve(s[0],s[1])+"px"),L(e,"--event_width",s[2]*ge(s[0])+"px"),L(e,"--event_type_colour",s[0].expand.event_type.colour),te(e,"hovered",s[6])},m(l,t){w(l,e,t)},p(l,t){t&4&&L(e,"--width_day",l[2]+"px"),t&7&&L(e,"--event_offset",l[2]*ve(l[0],l[1])+"px"),t&5&&L(e,"--event_width",l[2]*ge(l[0])+"px"),t&1&&L(e,"--event_type_colour",l[0].expand.event_type.colour),t&64&&te(e,"hovered",l[6])},d(l){l&&_(e)}}}function Oe(s){let e,l=s[8]()+"",t,n,f;return{c(){e=T("div"),t=F(l),this.h()},l(o){e=y(o,"DIV",{class:!0});var r=C(e);t=q(r,l),r.forEach(_),this.h()},h(){I(e,"class","time_chip svelte-1mexrbq")},m(o,r){w(o,e,r),k(e,t),f=!0},p(o,r){(!f||r&256)&&l!==(l=o[8]()+"")&&ae(t,l)},i(o){f||(o&&ke(()=>{f&&(n||(n=ie(e,me,{},!0)),n.run(1))}),f=!0)},o(o){o&&(n||(n=ie(e,me,{},!1)),n.run(0)),f=!1},d(o){o&&_(e),o&&n&&n.end()}}}function Ce(s){let e,l=s[8]()+"",t,n,f;return{c(){e=T("div"),t=F(l),this.h()},l(o){e=y(o,"DIV",{class:!0});var r=C(e);t=q(r,l),r.forEach(_),this.h()},h(){I(e,"class","time_chip svelte-1mexrbq")},m(o,r){w(o,e,r),k(e,t),f=!0},p(o,r){(!f||r&256)&&l!==(l=o[8]()+"")&&ae(t,l)},i(o){f||(o&&ke(()=>{f&&(n||(n=ie(e,me,{},!0)),n.run(1))}),f=!0)},o(o){o&&(n||(n=ie(e,me,{},!1)),n.run(0)),f=!1},d(o){o&&_(e),o&&n&&n.end()}}}function rt(s){let e,l,t,n=!s[9]&&s[7](),f,o,r=(s[0].name_short==""?s[0].name:s[0].name_short)+"",i,c,a=s[9]&&s[7](),u,d,m=s[0].end_unknown&&ye(s),h=n&&Oe(s),p=a&&Ce(s);return{c(){m&&m.c(),e=M(),l=T("button"),t=T("div"),h&&h.c(),f=M(),o=T("div"),i=F(r),c=M(),p&&p.c(),this.h()},l(b){m&&m.l(b),e=N(b),l=y(b,"BUTTON",{class:!0,style:!0});var v=C(l);t=y(v,"DIV",{class:!0});var B=C(t);h&&h.l(B),f=N(B),o=y(B,"DIV",{class:!0});var j=C(o);i=q(j,r),j.forEach(_),c=N(B),p&&p.l(B),B.forEach(_),v.forEach(_),this.h()},h(){I(o,"class","event_name svelte-1mexrbq"),I(t,"class","event_label sticky svelte-1mexrbq"),I(l,"class","event svelte-1mexrbq"),L(l,"--event_offset",s[2]*ve(s[0],s[1])+"px"),L(l,"--event_width",s[2]*ge(s[0])+"px"),L(l,"--event_type_colour",s[0].expand.event_type.colour),te(l,"no_border_right",s[3]),te(l,"end_unknown",s[0].end_unknown),te(l,"its_over",s[5])},m(b,v){m&&m.m(b,v),w(b,e,v),w(b,l,v),k(l,t),h&&h.m(t,null),k(t,f),k(t,o),k(o,i),k(t,c),p&&p.m(t,null),s[11](l),u||(d=[ne(l,"click",s[10]),ne(l,"mouseenter",s[12]),ne(l,"mouseleave",s[13])],u=!0)},p(b,[v]){b[0].end_unknown?m?m.p(b,v):(m=ye(b),m.c(),m.m(e.parentNode,e)):m&&(m.d(1),m=null),v&640&&(n=!b[9]&&b[7]()),n?h?(h.p(b,v),v&640&&$(h,1)):(h=Oe(b),h.c(),$(h,1),h.m(t,f)):h&&(Z(),O(h,1,1,()=>{h=null}),J()),v&1&&r!==(r=(b[0].name_short==""?b[0].name:b[0].name_short)+"")&&ae(i,r),v&640&&(a=b[9]&&b[7]()),a?p?(p.p(b,v),v&640&&$(p,1)):(p=Ce(b),p.c(),$(p,1),p.m(t,null)):p&&(Z(),O(p,1,1,()=>{p=null}),J()),v&7&&L(l,"--event_offset",b[2]*ve(b[0],b[1])+"px"),v&5&&L(l,"--event_width",b[2]*ge(b[0])+"px"),v&1&&L(l,"--event_type_colour",b[0].expand.event_type.colour),v&8&&te(l,"no_border_right",b[3]),v&1&&te(l,"end_unknown",b[0].end_unknown),v&32&&te(l,"its_over",b[5])},i(b){$(h),$(p)},o(b){O(h),O(p)},d(b){m&&m.d(b),b&&_(e),b&&_(l),h&&h.d(),p&&p.d(),s[11](null),u=!1,Ke(d)}}}function at(s,e,l){let t,n,f,o,{event:r}=e,{anchor_date:i}=e,{width_day:c}=e,{has_immediate_followup:a=!1}=e,u;function d(){re(ft,{event:r})}let m=!1;function h(v){we[v?"unshift":"push"](()=>{u=v,l(4,u)})}const p=()=>l(6,m=!0),b=()=>l(6,m=!1);return s.$$set=v=>{"event"in v&&l(0,r=v.event),"anchor_date"in v&&l(1,i=v.anchor_date),"width_day"in v&&l(2,c=v.width_day),"has_immediate_followup"in v&&l(3,a=v.has_immediate_followup)},s.$$.update=()=>{s.$$.dirty&1&&l(9,t=new Date().getTime()>=new Date(r.date_start).getTime()),s.$$.dirty&1&&l(5,n=new Date().getTime()>=new Date(r.date_end).getTime()),s.$$.dirty&1&&l(8,f=()=>{const v=new Date().getTime(),B=new Date(r.date_start).getTime(),j=new Date(r.date_end).getTime();if(v>=B&&v<=j&&r.end_unknown)return"???";let A=0;if(v<B?A=B:v<j&&(A=j),A!=0){let U=A-v,P=Math.floor(U/(1e3*60*60*24)),X=Math.floor(U%(1e3*60*60*24)/(1e3*60*60)),S=Math.floor(U%(1e3*60*60)/(1e3*60));return P>0?`${P}D ${X}H`:`${X}H ${S}M `}else return""}),s.$$.dirty&52&&l(7,o=()=>!u||n?!1:u.offsetWidth>=c*5)},[r,i,c,a,u,n,m,o,f,t,d,h,p,b]}class ut extends K{constructor(e){super(),x(this,e,at,rt,ee,{event:0,anchor_date:1,width_day:2,has_immediate_followup:3})}}function ct(s){let e,l,t,n,f,o,r;return{c(){e=T("button"),l=T("div"),t=M(),n=T("div"),f=F(s[1]),this.h()},l(i){e=y(i,"BUTTON",{style:!0,class:!0});var c=C(e);l=y(c,"DIV",{class:!0}),C(l).forEach(_),t=N(c),n=y(c,"DIV",{class:!0});var a=C(n);f=q(a,s[1]),a.forEach(_),c.forEach(_),this.h()},h(){I(l,"class","checkbox svelte-1q2y6il"),te(l,"checked",s[0]),I(n,"class","label svelte-1q2y6il"),L(e,"--checkbox_colour",s[2]),I(e,"class","svelte-1q2y6il")},m(i,c){w(i,e,c),k(e,l),k(e,t),k(e,n),k(n,f),o||(r=ne(e,"click",s[3]),o=!0)},p(i,[c]){c&1&&te(l,"checked",i[0]),c&2&&ae(f,i[1]),c&4&&L(e,"--checkbox_colour",i[2])},i:se,o:se,d(i){i&&_(e),o=!1,r()}}}function _t(s,e,l){let{checked:t=!1}=e,{onChange:n}=e,{label:f}=e,{colour:o="#000000"}=e;function r(){l(0,t=!t),n(t)}return s.$$set=i=>{"checked"in i&&l(0,t=i.checked),"onChange"in i&&l(4,n=i.onChange),"label"in i&&l(1,f=i.label),"colour"in i&&l(2,o=i.colour)},[t,f,o,r,n]}class ht extends K{constructor(e){super(),x(this,e,_t,ct,ee,{checked:0,onChange:4,label:1,colour:2})}}function Ie(s,e,l){const t=s.slice();return t[6]=e[l],t}function Ve(s){let e,l;return e=new ce({props:{$$slots:{default:[mt]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){W(e,t,n),l=!0},p(t,n){const f={};n&514&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Me(s){let e,l;function t(...n){return s[5](s[6],...n)}return e=new ht({props:{checked:s[6].shown,label:s[6].name,colour:s[6].colour,onChange:t}}),{c(){R(e.$$.fragment)},l(n){G(e.$$.fragment,n)},m(n,f){W(e,n,f),l=!0},p(n,f){s=n;const o={};f&2&&(o.checked=s[6].shown),f&2&&(o.label=s[6].name),f&2&&(o.colour=s[6].colour),f&2&&(o.onChange=t),e.$set(o)},i(n){l||($(e.$$.fragment,n),l=!0)},o(n){O(e.$$.fragment,n),l=!1},d(n){z(e,n)}}}function dt(s){let e;return{c(){e=F("Close")},l(l){e=q(l,"Close")},m(l,t){w(l,e,t)},d(l){l&&_(e)}}}function mt(s){let e,l,t,n,f,o,r,i,c,a,u=s[1],d=[];for(let h=0;h<u.length;h+=1)d[h]=Me(Ie(s,u,h));const m=h=>O(d[h],1,1,()=>{d[h]=null});return c=new fe({props:{onClick:s[2],$$slots:{default:[dt]},$$scope:{ctx:s}}}),{c(){e=T("h2"),l=F("Filter"),t=M(),n=T("p"),f=F("Choose which event categories to show."),o=M(),r=T("div");for(let h=0;h<d.length;h+=1)d[h].c();i=M(),R(c.$$.fragment),this.h()},l(h){e=y(h,"H2",{});var p=C(e);l=q(p,"Filter"),p.forEach(_),t=N(h),n=y(h,"P",{});var b=C(n);f=q(b,"Choose which event categories to show."),b.forEach(_),o=N(h),r=y(h,"DIV",{class:!0});var v=C(r);for(let B=0;B<d.length;B+=1)d[B].l(v);v.forEach(_),i=N(h),G(c.$$.fragment,h),this.h()},h(){I(r,"class","categories svelte-122ls8e")},m(h,p){w(h,e,p),k(e,l),w(h,t,p),w(h,n,p),k(n,f),w(h,o,p),w(h,r,p);for(let b=0;b<d.length;b+=1)d[b]&&d[b].m(r,null);w(h,i,p),W(c,h,p),a=!0},p(h,p){if(p&10){u=h[1];let v;for(v=0;v<u.length;v+=1){const B=Ie(h,u,v);d[v]?(d[v].p(B,p),$(d[v],1)):(d[v]=Me(B),d[v].c(),$(d[v],1),d[v].m(r,null))}for(Z(),v=u.length;v<d.length;v+=1)m(v);J()}const b={};p&512&&(b.$$scope={dirty:p,ctx:h}),c.$set(b)},i(h){if(!a){for(let p=0;p<u.length;p+=1)$(d[p]);$(c.$$.fragment,h),a=!0}},o(h){d=d.filter(Boolean);for(let p=0;p<d.length;p+=1)O(d[p]);O(c.$$.fragment,h),a=!1},d(h){h&&_(e),h&&_(t),h&&_(n),h&&_(o),h&&_(r),oe(d,h),h&&_(i),z(c,h)}}}function gt(s){let e,l,t=s[0]&&Ve(s);return{c(){t&&t.c(),e=Y()},l(n){t&&t.l(n),e=Y()},m(n,f){t&&t.m(n,f),w(n,e,f),l=!0},p(n,[f]){n[0]?t?(t.p(n,f),f&1&&$(t,1)):(t=Ve(n),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(Z(),O(t,1,1,()=>{t=null}),J())},i(n){l||($(t),l=!0)},o(n){O(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function vt(s,e,l){let{isOpen:t}=e,{eventData:n}=e,{onChange:f}=e;function o(){Ee()}function r(c,a){c.shown=a,f()}const i=(c,a)=>{r(c,a)};return s.$$set=c=>{"isOpen"in c&&l(0,t=c.isOpen),"eventData"in c&&l(1,n=c.eventData),"onChange"in c&&l(4,f=c.onChange)},[t,n,o,r,f,i]}class pt extends K{constructor(e){super(),x(this,e,vt,gt,ee,{isOpen:0,eventData:1,onChange:4})}}function bt(s){let e,l,t;const n=s[3].default,f=et(n,s,s[2],null);return{c(){e=T("a"),f&&f.c(),this.h()},l(o){e=y(o,"A",{href:!0,target:!0,class:!0});var r=C(e);f&&f.l(r),r.forEach(_),this.h()},h(){I(e,"href",s[0]),I(e,"target",l=s[1]?"_blank":"_self"),I(e,"class","svelte-b2nqqw")},m(o,r){w(o,e,r),f&&f.m(e,null),t=!0},p(o,[r]){f&&f.p&&(!t||r&4)&&tt(f,n,o,o[2],t?nt(n,o[2],r,null):lt(o[2]),null),(!t||r&1)&&I(e,"href",o[0]),(!t||r&2&&l!==(l=o[1]?"_blank":"_self"))&&I(e,"target",l)},i(o){t||($(f,o),t=!0)},o(o){O(f,o),t=!1},d(o){o&&_(e),f&&f.d(o)}}}function $t(s,e,l){let{$$slots:t={},$$scope:n}=e,{href:f}=e,{inNewTab:o=!1}=e;return s.$$set=r=>{"href"in r&&l(0,f=r.href),"inNewTab"in r&&l(1,o=r.inNewTab),"$$scope"in r&&l(2,n=r.$$scope)},[f,o,n,t]}class kt extends K{constructor(e){super(),x(this,e,$t,bt,ee,{href:0,inNewTab:1})}}function wt(s){let e,l,t,n,f;return{c(){e=T("button"),l=T("div"),t=F(s[1]),this.h()},l(o){e=y(o,"BUTTON",{class:!0});var r=C(e);l=y(r,"DIV",{class:!0});var i=C(l);t=q(i,s[1]),i.forEach(_),r.forEach(_),this.h()},h(){I(l,"class","label svelte-1iuvypg"),I(e,"class","toggle svelte-1iuvypg"),te(e,"toggled",s[0])},m(o,r){w(o,e,r),k(e,l),k(l,t),n||(f=ne(e,"click",s[2]),n=!0)},p(o,[r]){r&2&&ae(t,o[1]),r&1&&te(e,"toggled",o[0])},i:se,o:se,d(o){o&&_(e),n=!1,f()}}}function Et(s,e,l){let{toggled:t=!1}=e,{onChange:n}=e,{label:f}=e;function o(){l(0,t=!t),n(t)}function r(i){l(0,t=i)}return s.$$set=i=>{"toggled"in i&&l(0,t=i.toggled),"onChange"in i&&l(3,n=i.onChange),"label"in i&&l(1,f=i.label)},[t,f,o,n,r]}class Dt extends K{constructor(e){super(),x(this,e,Et,wt,ee,{toggled:0,onChange:3,label:1,setTo:4})}get setTo(){return this.$$.ctx[4]}}function Ne(s,e,l){const t=s.slice();return t[6]=e[l],t[7]=e,t[8]=l,t}function Be(s){let e,l=s[8],t;function n(...i){return s[2](s[8],s[6],...i)}const f=()=>s[3](e,l),o=()=>s[3](null,l);let r={label:s[6].name,onChange:n};return e=new Dt({props:r}),f(),{c(){R(e.$$.fragment)},l(i){G(e.$$.fragment,i)},m(i,c){W(e,i,c),t=!0},p(i,c){s=i,l!==s[8]&&(o(),l=s[8],f());const a={};c&1&&(a.onChange=n),e.$set(a)},i(i){t||($(e.$$.fragment,i),t=!0)},o(i){O(e.$$.fragment,i),t=!1},d(i){o(),z(e,i)}}}function Tt(s){let e,l,t,n,f,o,r=be,i=[];for(let a=0;a<r.length;a+=1)i[a]=Be(Ne(s,r,a));const c=a=>O(i[a],1,1,()=>{i[a]=null});return{c(){e=T("div"),l=T("h3"),t=F("Locale"),n=M(),f=T("div");for(let a=0;a<i.length;a+=1)i[a].c();this.h()},l(a){e=y(a,"DIV",{class:!0});var u=C(e);l=y(u,"H3",{});var d=C(l);t=q(d,"Locale"),d.forEach(_),n=N(u),f=y(u,"DIV",{class:!0});var m=C(f);for(let h=0;h<i.length;h+=1)i[h].l(m);m.forEach(_),u.forEach(_),this.h()},h(){I(f,"class","row svelte-t2sk2g"),I(e,"class","container svelte-t2sk2g")},m(a,u){w(a,e,u),k(e,l),k(l,t),k(e,n),k(e,f);for(let d=0;d<i.length;d+=1)i[d]&&i[d].m(f,null);o=!0},p(a,[u]){if(u&3){r=be;let d;for(d=0;d<r.length;d+=1){const m=Ne(a,r,d);i[d]?(i[d].p(m,u),$(i[d],1)):(i[d]=Be(m),i[d].c(),$(i[d],1),i[d].m(f,null))}for(Z(),d=r.length;d<i.length;d+=1)c(d);J()}},i(a){if(!o){for(let u=0;u<r.length;u+=1)$(i[u]);o=!0}},o(a){i=i.filter(Boolean);for(let u=0;u<i.length;u+=1)O(i[u]);o=!1},d(a){a&&_(e),oe(i,a)}}}function yt(s,e,l){let t;st(s,De,c=>l(4,t=c));let n=[];function f(c,a){De.set(a),localStorage.setItem("locale",a),n.forEach(u=>{u!=c&&u.setTo(!1)})}function o(){let c=0;for(const a of be)if(a.value==t){n[c].setTo(!0);return}else c++}xe(()=>{o()});const r=(c,a,u)=>{u&&f(n[c],a.value)};function i(c,a){we[c?"unshift":"push"](()=>{n[a]=c,l(0,n)})}return[n,f,r,i]}class Ot extends K{constructor(e){super(),x(this,e,yt,Tt,ee,{})}}function He(s){let e,l;return e=new ce({props:{$$slots:{default:[It]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){W(e,t,n),l=!0},p(t,n){const f={};n&4&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Ct(s){let e;return{c(){e=F("Ok")},l(l){e=q(l,"Ok")},m(l,t){w(l,e,t)},d(l){l&&_(e)}}}function It(s){let e,l,t,n,f;return n=new fe({props:{onClick:s[1],$$slots:{default:[Ct]},$$scope:{ctx:s}}}),{c(){e=T("h2"),l=F("Success"),t=M(),R(n.$$.fragment)},l(o){e=y(o,"H2",{});var r=C(e);l=q(r,"Success"),r.forEach(_),t=N(o),G(n.$$.fragment,o)},m(o,r){w(o,e,r),k(e,l),w(o,t,r),W(n,o,r),f=!0},p(o,r){const i={};r&4&&(i.$$scope={dirty:r,ctx:o}),n.$set(i)},i(o){f||($(n.$$.fragment,o),f=!0)},o(o){O(n.$$.fragment,o),f=!1},d(o){o&&_(e),o&&_(t),z(n,o)}}}function Vt(s){let e,l,t=s[0]&&He(s);return{c(){t&&t.c(),e=Y()},l(n){t&&t.l(n),e=Y()},m(n,f){t&&t.m(n,f),w(n,e,f),l=!0},p(n,[f]){n[0]?t?(t.p(n,f),f&1&&$(t,1)):(t=He(n),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(Z(),O(t,1,1,()=>{t=null}),J())},i(n){l||($(t),l=!0)},o(n){O(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function Mt(s,e,l){let{isOpen:t}=e;function n(){ot()}return s.$$set=f=>{"isOpen"in f&&l(0,t=f.isOpen)},[t,n]}class Nt extends K{constructor(e){super(),x(this,e,Mt,Vt,ee,{isOpen:0})}}function Se(s){let e,l;return e=new ce({props:{$$slots:{default:[Ht]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){W(e,t,n),l=!0},p(t,n){const f={};n&4&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Bt(s){let e;return{c(){e=F("Ok")},l(l){e=q(l,"Ok")},m(l,t){w(l,e,t)},d(l){l&&_(e)}}}function Ht(s){let e,l,t,n,f,o,r,i,c,a;return c=new fe({props:{onClick:s[1],$$slots:{default:[Bt]},$$scope:{ctx:s}}}),{c(){e=T("h2"),l=F("Error"),t=M(),n=T("p"),f=F("Something went wrong. "),o=T("br"),r=F(" Please try again later"),i=M(),R(c.$$.fragment),this.h()},l(u){e=y(u,"H2",{class:!0});var d=C(e);l=q(d,"Error"),d.forEach(_),t=N(u),n=y(u,"P",{});var m=C(n);f=q(m,"Something went wrong. "),o=y(m,"BR",{}),r=q(m," Please try again later"),m.forEach(_),i=N(u),G(c.$$.fragment,u),this.h()},h(){I(e,"class","error")},m(u,d){w(u,e,d),k(e,l),w(u,t,d),w(u,n,d),k(n,f),k(n,o),k(n,r),w(u,i,d),W(c,u,d),a=!0},p(u,d){const m={};d&4&&(m.$$scope={dirty:d,ctx:u}),c.$set(m)},i(u){a||($(c.$$.fragment,u),a=!0)},o(u){O(c.$$.fragment,u),a=!1},d(u){u&&_(e),u&&_(t),u&&_(n),u&&_(i),z(c,u)}}}function St(s){let e,l,t=s[0]&&Se(s);return{c(){t&&t.c(),e=Y()},l(n){t&&t.l(n),e=Y()},m(n,f){t&&t.m(n,f),w(n,e,f),l=!0},p(n,[f]){n[0]?t?(t.p(n,f),f&1&&$(t,1)):(t=Se(n),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(Z(),O(t,1,1,()=>{t=null}),J())},i(n){l||($(t),l=!0)},o(n){O(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function Ft(s,e,l){let{isOpen:t}=e;function n(){Ee()}return s.$$set=f=>{"isOpen"in f&&l(0,t=f.isOpen)},[t,n]}class qt extends K{constructor(e){super(),x(this,e,Ft,St,ee,{isOpen:0})}}function Fe(s){let e,l;return e=new ce({props:{$$slots:{default:[Pt]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){W(e,t,n),l=!0},p(t,n){const f={};n&526&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function At(s){let e;return{c(){e=F("Send")},l(l){e=q(l,"Send")},m(l,t){w(l,e,t)},d(l){l&&_(e)}}}function Lt(s){let e;return{c(){e=F("Cancel")},l(l){e=q(l,"Cancel")},m(l,t){w(l,e,t)},d(l){l&&_(e)}}}function Pt(s){let e,l,t,n,f,o,r,i,c,a,u,d,m,h,p,b,v,B,j,A,U,P,X,S;return j=new fe({props:{onClick:s[5],disabled:!s[3],$$slots:{default:[At]},$$scope:{ctx:s}}}),U=new fe({props:{onClick:s[4],$$slots:{default:[Lt]},$$scope:{ctx:s}}}),{c(){e=T("h2"),l=F("Send Feedback"),t=M(),n=T("p"),f=F("If you spot an error, feel free to send me feedback and maybe I will correct it."),o=M(),r=T("div"),i=T("h3"),c=F("Subject *"),a=M(),u=T("input"),d=M(),m=T("div"),h=T("h3"),p=F("Message *"),b=M(),v=T("textarea"),B=M(),R(j.$$.fragment),A=M(),R(U.$$.fragment),this.h()},l(E){e=y(E,"H2",{});var g=C(e);l=q(g,"Send Feedback"),g.forEach(_),t=N(E),n=y(E,"P",{});var V=C(n);f=q(V,"If you spot an error, feel free to send me feedback and maybe I will correct it."),V.forEach(_),o=N(E),r=y(E,"DIV",{class:!0});var H=C(r);i=y(H,"H3",{});var D=C(i);c=q(D,"Subject *"),D.forEach(_),a=N(H),u=y(H,"INPUT",{type:!0,class:!0}),H.forEach(_),d=N(E),m=y(E,"DIV",{class:!0});var Q=C(m);h=y(Q,"H3",{});var ue=C(h);p=q(ue,"Message *"),ue.forEach(_),b=N(Q),v=y(Q,"TEXTAREA",{class:!0}),C(v).forEach(_),Q.forEach(_),B=N(E),G(j.$$.fragment,E),A=N(E),G(U.$$.fragment,E),this.h()},h(){I(u,"type","text"),I(u,"class","svelte-1i39bp6"),I(r,"class","input svelte-1i39bp6"),I(v,"class","svelte-1i39bp6"),I(m,"class","input svelte-1i39bp6")},m(E,g){w(E,e,g),k(e,l),w(E,t,g),w(E,n,g),k(n,f),w(E,o,g),w(E,r,g),k(r,i),k(i,c),k(r,a),k(r,u),de(u,s[1]),w(E,d,g),w(E,m,g),k(m,h),k(h,p),k(m,b),k(m,v),de(v,s[2]),w(E,B,g),W(j,E,g),w(E,A,g),W(U,E,g),P=!0,X||(S=[ne(u,"input",s[6]),ne(v,"input",s[7])],X=!0)},p(E,g){g&2&&u.value!==E[1]&&de(u,E[1]),g&4&&de(v,E[2]);const V={};g&8&&(V.disabled=!E[3]),g&512&&(V.$$scope={dirty:g,ctx:E}),j.$set(V);const H={};g&512&&(H.$$scope={dirty:g,ctx:E}),U.$set(H)},i(E){P||($(j.$$.fragment,E),$(U.$$.fragment,E),P=!0)},o(E){O(j.$$.fragment,E),O(U.$$.fragment,E),P=!1},d(E){E&&_(e),E&&_(t),E&&_(n),E&&_(o),E&&_(r),E&&_(d),E&&_(m),E&&_(B),z(j,E),E&&_(A),z(U,E),X=!1,Ke(S)}}}function jt(s){let e,l,t=s[0]&&Fe(s);return{c(){t&&t.c(),e=Y()},l(n){t&&t.l(n),e=Y()},m(n,f){t&&t.m(n,f),w(n,e,f),l=!0},p(n,[f]){n[0]?t?(t.p(n,f),f&1&&$(t,1)):(t=Fe(n),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(Z(),O(t,1,1,()=>{t=null}),J())},i(n){l||($(t),l=!0)},o(n){O(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function Ut(s,e,l){let t,{isOpen:n}=e;function f(){Ee()}let o="",r="",i=!1;async function c(){if(i)return;i=!0,await it(o,r)?(i=!1,re(Nt,{})):(i=!1,re(qt,{}))}function a(){o=this.value,l(1,o)}function u(){r=this.value,l(2,r)}return s.$$set=d=>{"isOpen"in d&&l(0,n=d.isOpen)},s.$$.update=()=>{s.$$.dirty&6&&l(3,t=o.length>0&&r.length>0)},[n,o,r,t,f,c,a,u]}class Rt extends K{constructor(e){super(),x(this,e,Ut,jt,ee,{isOpen:0})}}function qe(s){let e,l;return e=new ce({props:{$$slots:{default:[zt]},$$scope:{ctx:s}}}),{c(){R(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){W(e,t,n),l=!0},p(t,n){const f={};n&4&&(f.$$scope={dirty:n,ctx:t}),e.$set(f)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Gt(s){let e;return{c(){e=F("Feedback")},l(l){e=q(l,"Feedback")},m(l,t){w(l,e,t)},d(l){l&&_(e)}}}function Wt(s){let e;return{c(){e=F("GitHub")},l(l){e=q(l,"GitHub")},m(l,t){w(l,e,t)},d(l){l&&_(e)}}}function zt(s){let e,l,t,n,f,o,r,i,c;return n=new Ot({}),o=new fe({props:{onClick:s[1],$$slots:{default:[Gt]},$$scope:{ctx:s}}}),i=new kt({props:{href:"https://github.com/hinkeljo/feh-timeline",inNewTab:!0,$$slots:{default:[Wt]},$$scope:{ctx:s}}}),{c(){e=T("h2"),l=F("About"),t=M(),R(n.$$.fragment),f=M(),R(o.$$.fragment),r=M(),R(i.$$.fragment)},l(a){e=y(a,"H2",{});var u=C(e);l=q(u,"About"),u.forEach(_),t=N(a),G(n.$$.fragment,a),f=N(a),G(o.$$.fragment,a),r=N(a),G(i.$$.fragment,a)},m(a,u){w(a,e,u),k(e,l),w(a,t,u),W(n,a,u),w(a,f,u),W(o,a,u),w(a,r,u),W(i,a,u),c=!0},p(a,u){const d={};u&4&&(d.$$scope={dirty:u,ctx:a}),o.$set(d);const m={};u&4&&(m.$$scope={dirty:u,ctx:a}),i.$set(m)},i(a){c||($(n.$$.fragment,a),$(o.$$.fragment,a),$(i.$$.fragment,a),c=!0)},o(a){O(n.$$.fragment,a),O(o.$$.fragment,a),O(i.$$.fragment,a),c=!1},d(a){a&&_(e),a&&_(t),z(n,a),a&&_(f),z(o,a),a&&_(r),z(i,a)}}}function Qt(s){let e,l,t=s[0]&&qe(s);return{c(){t&&t.c(),e=Y()},l(n){t&&t.l(n),e=Y()},m(n,f){t&&t.m(n,f),w(n,e,f),l=!0},p(n,[f]){n[0]?t?(t.p(n,f),f&1&&$(t,1)):(t=qe(n),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(Z(),O(t,1,1,()=>{t=null}),J())},i(n){l||($(t),l=!0)},o(n){O(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function Xt(s,e,l){let{isOpen:t}=e;function n(){re(Rt,{})}return s.$$set=f=>{"isOpen"in f&&l(0,t=f.isOpen)},[t,n]}class Yt extends K{constructor(e){super(),x(this,e,Xt,Qt,ee,{isOpen:0})}}function Zt(s){let e,l,t,n;return{c(){e=T("button"),l=F("i"),this.h()},l(f){e=y(f,"BUTTON",{class:!0});var o=C(e);l=q(o,"i"),o.forEach(_),this.h()},h(){I(e,"class","svelte-jtm7z6")},m(f,o){w(f,e,o),k(e,l),t||(n=ne(e,"click",s[0]),t=!0)},p:se,i:se,o:se,d(f){f&&_(e),t=!1,n()}}}function Jt(s){function e(){re(Yt,{})}return[e]}class Kt extends K{constructor(e){super(),x(this,e,Jt,Zt,ee,{})}}function Ae(s,e,l){const t=s.slice();return t[10]=e[l],t}function Le(s,e,l){const t=s.slice();return t[13]=e[l],t}function Pe(s,e,l){const t=s.slice();return t[16]=e[l],t}function je(s,e,l){const t=s.slice();return t[19]=e[l],t[21]=l,t}function Ue(s,e,l){const t=s.slice();return t[22]=e[l],t}function Re(s,e,l){const t=s.slice();return t[19]=e[l],t[21]=l,t}function Ge(s){let e,l=s[21]+1+"",t,n;return{c(){e=T("div"),t=F(l),n=M(),this.h()},l(f){e=y(f,"DIV",{class:!0});var o=C(e);t=q(o,l),n=N(o),o.forEach(_),this.h()},h(){I(e,"class","day svelte-1irx9uf")},m(f,o){w(f,e,o),k(e,t),k(e,n)},p:se,d(f){f&&_(e)}}}function We(s){let e,l,t,n=s[22].name+"",f,o,r,i,c=Array(s[22].days),a=[];for(let u=0;u<c.length;u+=1)a[u]=Ge(Re(s,c,u));return{c(){e=T("div"),l=T("div"),t=T("h2"),f=F(n),o=M(),r=T("div");for(let u=0;u<a.length;u+=1)a[u].c();i=M(),this.h()},l(u){e=y(u,"DIV",{class:!0});var d=C(e);l=y(d,"DIV",{class:!0});var m=C(l);t=y(m,"H2",{});var h=C(t);f=q(h,n),h.forEach(_),m.forEach(_),o=N(d),r=y(d,"DIV",{class:!0});var p=C(r);for(let b=0;b<a.length;b+=1)a[b].l(p);p.forEach(_),i=N(d),d.forEach(_),this.h()},h(){I(l,"class","month_label sticky svelte-1irx9uf"),I(r,"class","day_list svelte-1irx9uf"),I(e,"class","month svelte-1irx9uf")},m(u,d){w(u,e,d),k(e,l),k(l,t),k(t,f),k(e,o),k(e,r);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(r,null);k(e,i)},p(u,d){if(d&4&&n!==(n=u[22].name+"")&&ae(f,n),d&4){c=Array(u[22].days);let m;for(m=0;m<c.length;m+=1){const h=Re(u,c,m);a[m]?a[m].p(h,d):(a[m]=Ge(h),a[m].c(),a[m].m(r,null))}for(;m<a.length;m+=1)a[m].d(1);a.length=c.length}},d(u){u&&_(e),oe(a,u)}}}function ze(s){let e;return{c(){e=T("div"),this.h()},l(l){e=y(l,"DIV",{class:!0,style:!0}),C(e).forEach(_),this.h()},h(){I(e,"class","day_separator svelte-1irx9uf"),L(e,"left",(s[21]+1)*pe-1+"px"),L(e,"height",s[6]()+"px")},m(l,t){w(l,e,t)},p(l,t){t&64&&L(e,"height",l[6]()+"px")},d(l){l&&_(e)}}}function Qe(s){let e,l,t=s[10].rows,n=[];for(let o=0;o<t.length;o+=1)n[o]=Ye(Le(s,t,o));const f=o=>O(n[o],1,1,()=>{n[o]=null});return{c(){for(let o=0;o<n.length;o+=1)n[o].c();e=Y()},l(o){for(let r=0;r<n.length;r+=1)n[r].l(o);e=Y()},m(o,r){for(let i=0;i<n.length;i+=1)n[i]&&n[i].m(o,r);w(o,e,r),l=!0},p(o,r){if(r&3){t=o[10].rows;let i;for(i=0;i<t.length;i+=1){const c=Le(o,t,i);n[i]?(n[i].p(c,r),$(n[i],1)):(n[i]=Ye(c),n[i].c(),$(n[i],1),n[i].m(e.parentNode,e))}for(Z(),i=t.length;i<n.length;i+=1)f(i);J()}},i(o){if(!l){for(let r=0;r<t.length;r+=1)$(n[r]);l=!0}},o(o){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)O(n[r]);l=!1},d(o){oe(n,o),o&&_(e)}}}function Xe(s){let e,l;return e=new ut({props:{event:s[16],anchor_date:s[1],width_day:pe,has_immediate_followup:Je(s[13],s[16])}}),{c(){R(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){W(e,t,n),l=!0},p(t,n){const f={};n&1&&(f.event=t[16]),n&2&&(f.anchor_date=t[1]),n&1&&(f.has_immediate_followup=Je(t[13],t[16])),e.$set(f)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function Ye(s){let e,l,t,n,f=s[13],o=[];for(let i=0;i<f.length;i+=1)o[i]=Xe(Pe(s,f,i));const r=i=>O(o[i],1,1,()=>{o[i]=null});return{c(){e=T("div");for(let i=0;i<o.length;i+=1)o[i].c();l=M(),this.h()},l(i){e=y(i,"DIV",{class:!0});var c=C(e);for(let a=0;a<o.length;a+=1)o[a].l(c);l=N(c),c.forEach(_),this.h()},h(){I(e,"class","event_row svelte-1irx9uf")},m(i,c){w(i,e,c);for(let a=0;a<o.length;a+=1)o[a]&&o[a].m(e,null);k(e,l),n=!0},p(i,c){if(c&3){f=i[13];let a;for(a=0;a<f.length;a+=1){const u=Pe(i,f,a);o[a]?(o[a].p(u,c),$(o[a],1)):(o[a]=Xe(u),o[a].c(),$(o[a],1),o[a].m(e,l))}for(Z(),a=f.length;a<o.length;a+=1)r(a);J()}},i(i){if(!n){for(let c=0;c<f.length;c+=1)$(o[c]);ke(()=>{n&&(t||(t=ie(e,Te,{x:100},!0)),t.run(1))}),n=!0}},o(i){o=o.filter(Boolean);for(let c=0;c<o.length;c+=1)O(o[c]);t||(t=ie(e,Te,{x:100},!1)),t.run(0),n=!1},d(i){i&&_(e),oe(o,i),i&&t&&t.end()}}}function Ze(s){let e,l,t=s[10].shown&&Qe(s);return{c(){t&&t.c(),e=Y()},l(n){t&&t.l(n),e=Y()},m(n,f){t&&t.m(n,f),w(n,e,f),l=!0},p(n,f){n[10].shown?t?(t.p(n,f),f&1&&$(t,1)):(t=Qe(n),t.c(),$(t,1),t.m(e.parentNode,e)):t&&(Z(),O(t,1,1,()=>{t=null}),J())},i(n){l||($(t),l=!0)},o(n){O(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function xt(s){let e;return{c(){e=F("Filter")},l(l){e=q(l,"Filter")},m(l,t){w(l,e,t)},d(l){l&&_(e)}}}function el(s){let e,l,t,n,f,o,r,i,c,a,u,d,m,h,p,b,v,B,j=s[2],A=[];for(let g=0;g<j.length;g+=1)A[g]=We(Ue(s,j,g));let U=Array(s[7]()),P=[];for(let g=0;g<U.length;g+=1)P[g]=ze(je(s,U,g));let X=s[0],S=[];for(let g=0;g<X.length;g+=1)S[g]=Ze(Ae(s,X,g));const E=g=>O(S[g],1,1,()=>{S[g]=null});return p=new fe({props:{onClick:s[8],$$slots:{default:[xt]},$$scope:{ctx:s}}}),v=new Kt({}),{c(){e=T("div"),l=T("div"),t=T("div"),n=T("h1"),f=F("FEH Timeline"),o=M(),r=T("div");for(let g=0;g<A.length;g+=1)A[g].c();i=M(),c=T("div");for(let g=0;g<P.length;g+=1)P[g].c();a=M(),u=T("div"),d=M();for(let g=0;g<S.length;g+=1)S[g].c();m=M(),h=T("div"),R(p.$$.fragment),b=M(),R(v.$$.fragment),this.h()},l(g){e=y(g,"DIV",{class:!0,style:!0});var V=C(e);l=y(V,"DIV",{class:!0});var H=C(l);t=y(H,"DIV",{class:!0});var D=C(t);n=y(D,"H1",{class:!0});var Q=C(n);f=q(Q,"FEH Timeline"),Q.forEach(_),D.forEach(_),o=N(H),r=y(H,"DIV",{class:!0});var ue=C(r);for(let le=0;le<A.length;le+=1)A[le].l(ue);ue.forEach(_),H.forEach(_),i=N(V),c=y(V,"DIV",{class:!0});var _e=C(c);for(let le=0;le<P.length;le+=1)P[le].l(_e);a=N(_e),u=y(_e,"DIV",{class:!0,style:!0}),C(u).forEach(_),_e.forEach(_),d=N(V);for(let le=0;le<S.length;le+=1)S[le].l(V);V.forEach(_),m=N(g),h=y(g,"DIV",{class:!0});var he=C(h);G(p.$$.fragment,he),b=N(he),G(v.$$.fragment,he),he.forEach(_),this.h()},h(){I(n,"class","svelte-1irx9uf"),I(t,"class","row sticky svelte-1irx9uf"),I(r,"class","month_list svelte-1irx9uf"),I(l,"class","timeline_header sticky svelte-1irx9uf"),I(u,"class","current_time svelte-1irx9uf"),L(u,"left",s[5]()+"px"),L(u,"height",s[6]()+"px"),I(c,"class","day_separator_container svelte-1irx9uf"),I(e,"class","timeline svelte-1irx9uf"),L(e,"--width_day",pe+"px"),L(e,"--height_day",$e+"px"),L(e,"--row_gap",s[3]+"px"),I(h,"class","button_bar svelte-1irx9uf")},m(g,V){w(g,e,V),k(e,l),k(l,t),k(t,n),k(n,f),k(l,o),k(l,r);for(let H=0;H<A.length;H+=1)A[H]&&A[H].m(r,null);s[9](l),k(e,i),k(e,c);for(let H=0;H<P.length;H+=1)P[H]&&P[H].m(c,null);k(c,a),k(c,u),k(e,d);for(let H=0;H<S.length;H+=1)S[H]&&S[H].m(e,null);w(g,m,V),w(g,h,V),W(p,h,null),k(h,b),W(v,h,null),B=!0},p(g,[V]){if(V&4){j=g[2];let D;for(D=0;D<j.length;D+=1){const Q=Ue(g,j,D);A[D]?A[D].p(Q,V):(A[D]=We(Q),A[D].c(),A[D].m(r,null))}for(;D<A.length;D+=1)A[D].d(1);A.length=j.length}if(V&192){U=Array(g[7]());let D;for(D=0;D<U.length;D+=1){const Q=je(g,U,D);P[D]?P[D].p(Q,V):(P[D]=ze(Q),P[D].c(),P[D].m(c,a))}for(;D<P.length;D+=1)P[D].d(1);P.length=U.length}if((!B||V&32)&&L(u,"left",g[5]()+"px"),(!B||V&64)&&L(u,"height",g[6]()+"px"),V&3){X=g[0];let D;for(D=0;D<X.length;D+=1){const Q=Ae(g,X,D);S[D]?(S[D].p(Q,V),$(S[D],1)):(S[D]=Ze(Q),S[D].c(),$(S[D],1),S[D].m(e,null))}for(Z(),D=X.length;D<S.length;D+=1)E(D);J()}(!B||V&8)&&L(e,"--row_gap",g[3]+"px");const H={};V&67108864&&(H.$$scope={dirty:V,ctx:g}),p.$set(H)},i(g){if(!B){for(let V=0;V<X.length;V+=1)$(S[V]);$(p.$$.fragment,g),$(v.$$.fragment,g),B=!0}},o(g){S=S.filter(Boolean);for(let V=0;V<S.length;V+=1)O(S[V]);O(p.$$.fragment,g),O(v.$$.fragment,g),B=!1},d(g){g&&_(e),oe(A,g),s[9](null),oe(P,g),oe(S,g),g&&_(m),g&&_(h),z(p),z(v)}}}let pe=48,$e=48;function Je(s,e){let l=s.indexOf(e);if(l<s.length-1)return s[l+1].date_start===e.date_end}function tl(s,e,l){let t,n,f,o,{anchor_date:r}=e,{months:i}=e,{event_data:c}=e,a;function u(){re(pt,{eventData:c,onChange:()=>{l(0,c=[...c])}})}xe(()=>{{let m=f()-window.innerWidth/2;window.scrollTo(m,0)}});function d(m){we[m?"unshift":"push"](()=>{a=m,l(4,a)})}return s.$$set=m=>{"anchor_date"in m&&l(1,r=m.anchor_date),"months"in m&&l(2,i=m.months),"event_data"in m&&l(0,c=m.event_data)},s.$$.update=()=>{s.$$.dirty&4&&l(7,n=()=>{let m=0;return i.forEach(h=>{m+=h.days}),m}),s.$$.dirty&2&&l(5,f=()=>{let m=new Date(r);return(new Date().valueOf()-m.valueOf())/(1e3*60*60*24)*pe}),s.$$.dirty&9&&l(6,o=()=>{let m=0;return c.forEach(h=>{m+=h.rows.length}),m*($e+t)})},l(3,t=$e/3),[c,r,i,t,a,f,o,n,u,d]}class ll extends K{constructor(e){super(),x(this,e,tl,el,ee,{anchor_date:1,months:2,event_data:0})}}function nl(s){let e,l;return e=new ll({props:{months:s[0].months,event_data:s[0].event_data,anchor_date:s[0].anchor_date}}),{c(){R(e.$$.fragment)},l(t){G(e.$$.fragment,t)},m(t,n){W(e,t,n),l=!0},p(t,[n]){const f={};n&1&&(f.months=t[0].months),n&1&&(f.event_data=t[0].event_data),n&1&&(f.anchor_date=t[0].anchor_date),e.$set(f)},i(t){l||($(e.$$.fragment,t),l=!0)},o(t){O(e.$$.fragment,t),l=!1},d(t){z(e,t)}}}function sl(s,e,l){let{data:t}=e;return s.$$set=n=>{"data"in n&&l(0,t=n.data)},[t]}class rl extends K{constructor(e){super(),x(this,e,sl,nl,ee,{data:0})}}export{rl as default};
