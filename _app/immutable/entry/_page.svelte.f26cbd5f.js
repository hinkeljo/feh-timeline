import{S as X,i as J,s as Q,C as De,k as E,l as y,m as D,h as _,n as C,b as k,U as g,Q as se,D as Te,E as Oe,F as Ce,g as w,R as $e,T as re,d as T,V as Ie,W as Ne,X as rt,q as S,r as H,p as q,u as oe,P as le,a as N,c as M,G as it,o as Ve,e as Z,v as x,f as ee,y as U,z as R,A as z,B as G,Y as te,w as Be,Z as ie,_ as de}from"../chunks/index.715fcbcd.js";import{b as me,a as ke,c as be,s as ve,o as ae,l as Ee,d as ft}from"../chunks/stores.082fc1a9.js";function pe(s){const l=new Date(s.date_start).valueOf(),t=new Date(s.date_end).valueOf();return Math.abs(l-t)/864e5}function ge(s,e){const l=new Date(s.date_start),t=24*60*60*1e3,n=new Date(e);return Math.abs(n.valueOf()-l.valueOf())/t}function at(s){let e,l,t,n,o,i;const r=s[1].default,f=De(r,s,s[0],null);return{c(){e=E("div"),l=E("div"),f&&f.c(),this.h()},l(c){e=y(c,"DIV",{role:!0,class:!0});var a=D(e);l=y(a,"DIV",{class:!0});var u=D(l);f&&f.l(u),u.forEach(_),a.forEach(_),this.h()},h(){C(l,"class","contents svelte-1j71jd5"),C(e,"role","dialog"),C(e,"class","modal svelte-1j71jd5")},m(c,a){k(c,e,a),g(e,l),f&&f.m(l,null),n=!0,o||(i=[se(e,"introstart",s[2]),se(e,"outroend",s[3])],o=!0)},p(c,[a]){f&&f.p&&(!n||a&1)&&Te(f,r,c,c[0],n?Ce(r,c[0],a,null):Oe(c[0]),null)},i(c){n||(w(f,c),$e(()=>{n&&(t||(t=re(e,me,{y:100},!0)),t.run(1))}),n=!0)},o(c){T(f,c),t||(t=re(e,me,{y:100},!1)),t.run(0),n=!1},d(c){c&&_(e),f&&f.d(c),c&&t&&t.end(),o=!1,Ie(i)}}}function ut(s,e,l){let{$$slots:t={},$$scope:n}=e;function o(r){Ne.call(this,s,r)}function i(r){Ne.call(this,s,r)}return s.$$set=r=>{"$$scope"in r&&l(0,n=r.$$scope)},[n,t,o,i]}class ue extends X{constructor(e){super(),J(this,e,ut,at,Q,{})}}function ct(s){let e,l,t,n;const o=s[3].default,i=De(o,s,s[2],null);return{c(){e=E("button"),i&&i.c(),this.h()},l(r){e=y(r,"BUTTON",{class:!0});var f=D(e);i&&i.l(f),f.forEach(_),this.h()},h(){e.disabled=s[1],C(e,"class","svelte-s1tdmy")},m(r,f){k(r,e,f),i&&i.m(e,null),l=!0,t||(n=se(e,"click",function(){rt(s[0])&&s[0].apply(this,arguments)}),t=!0)},p(r,[f]){s=r,i&&i.p&&(!l||f&4)&&Te(i,o,s,s[2],l?Ce(o,s[2],f,null):Oe(s[2]),null),(!l||f&2)&&(e.disabled=s[1])},i(r){l||(w(i,r),l=!0)},o(r){T(i,r),l=!1},d(r){r&&_(e),i&&i.d(r),t=!1,n()}}}function _t(s,e,l){let{$$slots:t={},$$scope:n}=e,{onClick:o}=e,{disabled:i=!1}=e;return s.$$set=r=>{"onClick"in r&&l(0,o=r.onClick),"disabled"in r&&l(1,i=r.disabled),"$$scope"in r&&l(2,n=r.$$scope)},[o,i,n,t]}class fe extends X{constructor(e){super(),J(this,e,_t,ct,Q,{onClick:0,disabled:1})}}function ht(s){let e,l=s[0].name+"",t;return{c(){e=E("div"),t=S(l),this.h()},l(n){e=y(n,"DIV",{class:!0,style:!0});var o=D(e);t=H(o,l),o.forEach(_),this.h()},h(){C(e,"class","event_type_chip svelte-1jfc4h5"),q(e,"--event_type_colour",s[0].colour)},m(n,o){k(n,e,o),g(e,t)},p(n,[o]){o&1&&l!==(l=n[0].name+"")&&oe(t,l),o&1&&q(e,"--event_type_colour",n[0].colour)},i:le,o:le,d(n){n&&_(e)}}}function dt(s,e,l){let{event_type:t}=e;return s.$$set=n=>{"event_type"in n&&l(0,t=n.event_type)},[t]}class mt extends X{constructor(e){super(),J(this,e,dt,ht,Q,{event_type:0})}}function vt(s){let e,l,t,n,o,i,r,f,c,a,u,h,m,d,$,b;return{c(){e=E("div"),l=E("div"),t=E("p"),n=E("b"),o=S("Starts:"),i=N(),r=E("p"),f=S(s[2]),c=N(),a=E("div"),u=E("p"),h=E("b"),m=S("Ends:"),d=N(),$=E("p"),b=S(s[1]),this.h()},l(p){e=y(p,"DIV",{class:!0,style:!0});var V=D(e);l=y(V,"DIV",{class:!0});var L=D(l);t=y(L,"P",{});var P=D(t);n=y(P,"B",{});var W=D(n);o=H(W,"Starts:"),W.forEach(_),P.forEach(_),i=M(L),r=y(L,"P",{});var j=D(r);f=H(j,s[2]),j.forEach(_),L.forEach(_),c=M(V),a=y(V,"DIV",{class:!0});var K=D(a);u=y(K,"P",{});var F=D(u);h=y(F,"B",{});var O=D(h);m=H(O,"Ends:"),O.forEach(_),F.forEach(_),d=M(K),$=y(K,"P",{});var v=D($);b=H(v,s[1]),v.forEach(_),K.forEach(_),V.forEach(_),this.h()},h(){C(l,"class","row svelte-1oyag6l"),C(a,"class","row svelte-1oyag6l"),C(e,"class","column svelte-1oyag6l"),q(e,"--elapsed",s[0]+"%")},m(p,V){k(p,e,V),g(e,l),g(l,t),g(t,n),g(n,o),g(l,i),g(l,r),g(r,f),g(e,c),g(e,a),g(a,u),g(u,h),g(h,m),g(a,d),g(a,$),g($,b)},p(p,[V]){V&4&&oe(f,p[2]),V&2&&oe(b,p[1]),V&1&&q(e,"--elapsed",p[0]+"%")},i:le,o:le,d(p){p&&_(e)}}}function pt(s,e,l){let t,n,o;it(s,ke,c=>l(4,o=c));let{event:i}=e,r=0;function f(){const c=(new Date().getTime()-new Date(i.date_start).getTime())/(new Date(i.date_end).getTime()-new Date(i.date_start).getTime());l(0,r=c*100)}return Ve(()=>{setTimeout(()=>{f()},100)}),s.$$set=c=>{"event"in c&&l(3,i=c.event)},s.$$.update=()=>{s.$$.dirty&24&&l(2,t=new Date(i.date_start).toLocaleString(o)),s.$$.dirty&24&&l(1,n=i.end_unknown?"Unknown":new Date(i.date_end).toLocaleString(o))},[r,n,t,i,o]}class gt extends X{constructor(e){super(),J(this,e,pt,vt,Q,{event:3})}}function Me(s){let e,l;return e=new ue({props:{$$slots:{default:[bt]},$$scope:{ctx:s}}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p(t,n){const o={};n&6&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function $t(s){let e;return{c(){e=S("OK")},l(l){e=H(l,"OK")},m(l,t){k(l,e,t)},d(l){l&&_(e)}}}function bt(s){let e,l=s[1].name+"",t,n,o,i,r,f,c,a;return o=new mt({props:{event_type:s[1].expand.event_type}}),r=new gt({props:{event:s[1]}}),c=new fe({props:{onClick:be,$$slots:{default:[$t]},$$scope:{ctx:s}}}),{c(){e=E("h2"),t=S(l),n=N(),U(o.$$.fragment),i=N(),U(r.$$.fragment),f=N(),U(c.$$.fragment)},l(u){e=y(u,"H2",{});var h=D(e);t=H(h,l),h.forEach(_),n=M(u),R(o.$$.fragment,u),i=M(u),R(r.$$.fragment,u),f=M(u),R(c.$$.fragment,u)},m(u,h){k(u,e,h),g(e,t),k(u,n,h),z(o,u,h),k(u,i,h),z(r,u,h),k(u,f,h),z(c,u,h),a=!0},p(u,h){(!a||h&2)&&l!==(l=u[1].name+"")&&oe(t,l);const m={};h&2&&(m.event_type=u[1].expand.event_type),o.$set(m);const d={};h&2&&(d.event=u[1]),r.$set(d);const $={};h&4&&($.$$scope={dirty:h,ctx:u}),c.$set($)},i(u){a||(w(o.$$.fragment,u),w(r.$$.fragment,u),w(c.$$.fragment,u),a=!0)},o(u){T(o.$$.fragment,u),T(r.$$.fragment,u),T(c.$$.fragment,u),a=!1},d(u){u&&_(e),u&&_(n),G(o,u),u&&_(i),G(r,u),u&&_(f),G(c,u)}}}function wt(s){let e,l,t=s[0]&&Me(s);return{c(){t&&t.c(),e=Z()},l(n){t&&t.l(n),e=Z()},m(n,o){t&&t.m(n,o),k(n,e,o),l=!0},p(n,[o]){n[0]?t?(t.p(n,o),o&1&&w(t,1)):(t=Me(n),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(x(),T(t,1,1,()=>{t=null}),ee())},i(n){l||(w(t),l=!0)},o(n){T(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function kt(s,e,l){let{isOpen:t}=e,{event:n}=e;return s.$$set=o=>{"isOpen"in o&&l(0,t=o.isOpen),"event"in o&&l(1,n=o.event)},[t,n]}class Et extends X{constructor(e){super(),J(this,e,kt,wt,Q,{isOpen:0,event:1})}}function Se(s){let e;return{c(){e=E("div"),this.h()},l(l){e=y(l,"DIV",{class:!0,style:!0}),D(e).forEach(_),this.h()},h(){C(e,"class","shadow svelte-1mexrbq"),q(e,"--width_day",s[2]+"px"),q(e,"--event_offset",s[2]*ge(s[0],s[1])+"px"),q(e,"--event_width",s[2]*pe(s[0])+"px"),q(e,"--event_type_colour",s[0].expand.event_type.colour),te(e,"hovered",s[6])},m(l,t){k(l,e,t)},p(l,t){t&4&&q(e,"--width_day",l[2]+"px"),t&7&&q(e,"--event_offset",l[2]*ge(l[0],l[1])+"px"),t&5&&q(e,"--event_width",l[2]*pe(l[0])+"px"),t&1&&q(e,"--event_type_colour",l[0].expand.event_type.colour),t&64&&te(e,"hovered",l[6])},d(l){l&&_(e)}}}function He(s){let e,l=s[8]()+"",t,n,o;return{c(){e=E("div"),t=S(l),this.h()},l(i){e=y(i,"DIV",{class:!0});var r=D(e);t=H(r,l),r.forEach(_),this.h()},h(){C(e,"class","time_chip svelte-1mexrbq")},m(i,r){k(i,e,r),g(e,t),o=!0},p(i,r){(!o||r&256)&&l!==(l=i[8]()+"")&&oe(t,l)},i(i){o||(i&&$e(()=>{o&&(n||(n=re(e,ve,{},!0)),n.run(1))}),o=!0)},o(i){i&&(n||(n=re(e,ve,{},!1)),n.run(0)),o=!1},d(i){i&&_(e),i&&n&&n.end()}}}function Fe(s){let e,l=s[8]()+"",t,n,o;return{c(){e=E("div"),t=S(l),this.h()},l(i){e=y(i,"DIV",{class:!0});var r=D(e);t=H(r,l),r.forEach(_),this.h()},h(){C(e,"class","time_chip svelte-1mexrbq")},m(i,r){k(i,e,r),g(e,t),o=!0},p(i,r){(!o||r&256)&&l!==(l=i[8]()+"")&&oe(t,l)},i(i){o||(i&&$e(()=>{o&&(n||(n=re(e,ve,{},!0)),n.run(1))}),o=!0)},o(i){i&&(n||(n=re(e,ve,{},!1)),n.run(0)),o=!1},d(i){i&&_(e),i&&n&&n.end()}}}function yt(s){let e,l,t,n=!s[9]&&s[7](),o,i,r=(s[0].name_short==""?s[0].name:s[0].name_short)+"",f,c,a=s[9]&&s[7](),u,h,m=s[0].end_unknown&&Se(s),d=n&&He(s),$=a&&Fe(s);return{c(){m&&m.c(),e=N(),l=E("button"),t=E("div"),d&&d.c(),o=N(),i=E("div"),f=S(r),c=N(),$&&$.c(),this.h()},l(b){m&&m.l(b),e=M(b),l=y(b,"BUTTON",{class:!0,style:!0});var p=D(l);t=y(p,"DIV",{class:!0});var V=D(t);d&&d.l(V),o=M(V),i=y(V,"DIV",{class:!0});var L=D(i);f=H(L,r),L.forEach(_),c=M(V),$&&$.l(V),V.forEach(_),p.forEach(_),this.h()},h(){C(i,"class","event_name svelte-1mexrbq"),C(t,"class","event_label sticky svelte-1mexrbq"),C(l,"class","event svelte-1mexrbq"),q(l,"--event_offset",s[2]*ge(s[0],s[1])+"px"),q(l,"--event_width",s[2]*pe(s[0])+"px"),q(l,"--event_type_colour",s[0].expand.event_type.colour),te(l,"no_border_right",s[3]),te(l,"end_unknown",s[0].end_unknown),te(l,"its_over",s[5])},m(b,p){m&&m.m(b,p),k(b,e,p),k(b,l,p),g(l,t),d&&d.m(t,null),g(t,o),g(t,i),g(i,f),g(t,c),$&&$.m(t,null),s[11](l),u||(h=[se(l,"click",s[10]),se(l,"mouseenter",s[12]),se(l,"mouseleave",s[13])],u=!0)},p(b,[p]){b[0].end_unknown?m?m.p(b,p):(m=Se(b),m.c(),m.m(e.parentNode,e)):m&&(m.d(1),m=null),p&640&&(n=!b[9]&&b[7]()),n?d?(d.p(b,p),p&640&&w(d,1)):(d=He(b),d.c(),w(d,1),d.m(t,o)):d&&(x(),T(d,1,1,()=>{d=null}),ee()),p&1&&r!==(r=(b[0].name_short==""?b[0].name:b[0].name_short)+"")&&oe(f,r),p&640&&(a=b[9]&&b[7]()),a?$?($.p(b,p),p&640&&w($,1)):($=Fe(b),$.c(),w($,1),$.m(t,null)):$&&(x(),T($,1,1,()=>{$=null}),ee()),p&7&&q(l,"--event_offset",b[2]*ge(b[0],b[1])+"px"),p&5&&q(l,"--event_width",b[2]*pe(b[0])+"px"),p&1&&q(l,"--event_type_colour",b[0].expand.event_type.colour),p&8&&te(l,"no_border_right",b[3]),p&1&&te(l,"end_unknown",b[0].end_unknown),p&32&&te(l,"its_over",b[5])},i(b){w(d),w($)},o(b){T(d),T($)},d(b){m&&m.d(b),b&&_(e),b&&_(l),d&&d.d(),$&&$.d(),s[11](null),u=!1,Ie(h)}}}function Dt(s,e,l){let t,n,o,i,{event:r}=e,{anchor_date:f}=e,{width_day:c}=e,{has_immediate_followup:a=!1}=e,u;function h(){ae(Et,{event:r})}let m=!1;function d(p){Be[p?"unshift":"push"](()=>{u=p,l(4,u)})}const $=()=>l(6,m=!0),b=()=>l(6,m=!1);return s.$$set=p=>{"event"in p&&l(0,r=p.event),"anchor_date"in p&&l(1,f=p.anchor_date),"width_day"in p&&l(2,c=p.width_day),"has_immediate_followup"in p&&l(3,a=p.has_immediate_followup)},s.$$.update=()=>{s.$$.dirty&1&&l(9,t=new Date().getTime()>=new Date(r.date_start).getTime()),s.$$.dirty&1&&l(5,n=new Date().getTime()>=new Date(r.date_end).getTime()),s.$$.dirty&1&&l(8,o=()=>{const p=new Date().getTime(),V=new Date(r.date_start).getTime(),L=new Date(r.date_end).getTime();if(p>=V&&p<=L&&r.end_unknown)return"???";let P=0;if(p<V?P=V:p<L&&(P=L),P!=0){let W=P-p,j=Math.floor(W/(1e3*60*60*24)),K=Math.floor(W%(1e3*60*60*24)/(1e3*60*60)),F=Math.floor(W%(1e3*60*60)/(1e3*60));return j>0?`${j}D ${K}H`:`${K}H ${F}M `}else return""}),s.$$.dirty&52&&l(7,i=()=>!u||n?!1:u.offsetWidth>=c*5)},[r,f,c,a,u,n,m,i,o,t,h,d,$,b]}class Tt extends X{constructor(e){super(),J(this,e,Dt,yt,Q,{event:0,anchor_date:1,width_day:2,has_immediate_followup:3})}}function Ot(s){let e,l,t,n,o,i,r;return{c(){e=E("button"),l=E("div"),t=N(),n=E("div"),o=S(s[1]),this.h()},l(f){e=y(f,"BUTTON",{style:!0,class:!0});var c=D(e);l=y(c,"DIV",{class:!0}),D(l).forEach(_),t=M(c),n=y(c,"DIV",{class:!0});var a=D(n);o=H(a,s[1]),a.forEach(_),c.forEach(_),this.h()},h(){C(l,"class","checkbox svelte-1q2y6il"),te(l,"checked",s[0]),C(n,"class","label svelte-1q2y6il"),q(e,"--checkbox_colour",s[2]),C(e,"class","svelte-1q2y6il")},m(f,c){k(f,e,c),g(e,l),g(e,t),g(e,n),g(n,o),i||(r=se(e,"click",s[3]),i=!0)},p(f,[c]){c&1&&te(l,"checked",f[0]),c&2&&oe(o,f[1]),c&4&&q(e,"--checkbox_colour",f[2])},i:le,o:le,d(f){f&&_(e),i=!1,r()}}}function Ct(s,e,l){let{checked:t=!1}=e,{onChange:n}=e,{label:o}=e,{colour:i="#000000"}=e;function r(){l(0,t=!t),n(t)}return s.$$set=f=>{"checked"in f&&l(0,t=f.checked),"onChange"in f&&l(4,n=f.onChange),"label"in f&&l(1,o=f.label),"colour"in f&&l(2,i=f.colour)},[t,o,i,r,n]}class It extends X{constructor(e){super(),J(this,e,Ct,Ot,Q,{checked:0,onChange:4,label:1,colour:2})}}function qe(s,e,l){const t=s.slice();return t[6]=e[l],t}function Pe(s){let e,l;return e=new ue({props:{$$slots:{default:[Bt]},$$scope:{ctx:s}}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p(t,n){const o={};n&514&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Ae(s){let e,l;function t(...n){return s[5](s[6],...n)}return e=new It({props:{checked:s[6].shown,label:s[6].name,colour:s[6].colour,onChange:t}}),{c(){U(e.$$.fragment)},l(n){R(e.$$.fragment,n)},m(n,o){z(e,n,o),l=!0},p(n,o){s=n;const i={};o&2&&(i.checked=s[6].shown),o&2&&(i.label=s[6].name),o&2&&(i.colour=s[6].colour),o&2&&(i.onChange=t),e.$set(i)},i(n){l||(w(e.$$.fragment,n),l=!0)},o(n){T(e.$$.fragment,n),l=!1},d(n){G(e,n)}}}function Vt(s){let e;return{c(){e=S("Close")},l(l){e=H(l,"Close")},m(l,t){k(l,e,t)},d(l){l&&_(e)}}}function Bt(s){let e,l,t,n,o,i,r,f,c,a,u=s[1],h=[];for(let d=0;d<u.length;d+=1)h[d]=Ae(qe(s,u,d));const m=d=>T(h[d],1,1,()=>{h[d]=null});return c=new fe({props:{onClick:s[2],$$slots:{default:[Vt]},$$scope:{ctx:s}}}),{c(){e=E("h2"),l=S("Filter"),t=N(),n=E("p"),o=S("Choose which event categories to show."),i=N(),r=E("div");for(let d=0;d<h.length;d+=1)h[d].c();f=N(),U(c.$$.fragment),this.h()},l(d){e=y(d,"H2",{});var $=D(e);l=H($,"Filter"),$.forEach(_),t=M(d),n=y(d,"P",{});var b=D(n);o=H(b,"Choose which event categories to show."),b.forEach(_),i=M(d),r=y(d,"DIV",{class:!0});var p=D(r);for(let V=0;V<h.length;V+=1)h[V].l(p);p.forEach(_),f=M(d),R(c.$$.fragment,d),this.h()},h(){C(r,"class","categories svelte-122ls8e")},m(d,$){k(d,e,$),g(e,l),k(d,t,$),k(d,n,$),g(n,o),k(d,i,$),k(d,r,$);for(let b=0;b<h.length;b+=1)h[b]&&h[b].m(r,null);k(d,f,$),z(c,d,$),a=!0},p(d,$){if($&10){u=d[1];let p;for(p=0;p<u.length;p+=1){const V=qe(d,u,p);h[p]?(h[p].p(V,$),w(h[p],1)):(h[p]=Ae(V),h[p].c(),w(h[p],1),h[p].m(r,null))}for(x(),p=u.length;p<h.length;p+=1)m(p);ee()}const b={};$&512&&(b.$$scope={dirty:$,ctx:d}),c.$set(b)},i(d){if(!a){for(let $=0;$<u.length;$+=1)w(h[$]);w(c.$$.fragment,d),a=!0}},o(d){h=h.filter(Boolean);for(let $=0;$<h.length;$+=1)T(h[$]);T(c.$$.fragment,d),a=!1},d(d){d&&_(e),d&&_(t),d&&_(n),d&&_(i),d&&_(r),ie(h,d),d&&_(f),G(c,d)}}}function Nt(s){let e,l,t=s[0]&&Pe(s);return{c(){t&&t.c(),e=Z()},l(n){t&&t.l(n),e=Z()},m(n,o){t&&t.m(n,o),k(n,e,o),l=!0},p(n,[o]){n[0]?t?(t.p(n,o),o&1&&w(t,1)):(t=Pe(n),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(x(),T(t,1,1,()=>{t=null}),ee())},i(n){l||(w(t),l=!0)},o(n){T(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function Mt(s,e,l){let{isOpen:t}=e,{eventData:n}=e,{onChange:o}=e;function i(){be()}function r(c,a){c.shown=a,o()}const f=(c,a)=>{r(c,a)};return s.$$set=c=>{"isOpen"in c&&l(0,t=c.isOpen),"eventData"in c&&l(1,n=c.eventData),"onChange"in c&&l(4,o=c.onChange)},[t,n,i,r,o,f]}class St extends X{constructor(e){super(),J(this,e,Mt,Nt,Q,{isOpen:0,eventData:1,onChange:4})}}function Ht(s){let e,l,t;const n=s[3].default,o=De(n,s,s[2],null);return{c(){e=E("a"),o&&o.c(),this.h()},l(i){e=y(i,"A",{href:!0,target:!0,class:!0});var r=D(e);o&&o.l(r),r.forEach(_),this.h()},h(){C(e,"href",s[0]),C(e,"target",l=s[1]?"_blank":"_self"),C(e,"class","svelte-b2nqqw")},m(i,r){k(i,e,r),o&&o.m(e,null),t=!0},p(i,[r]){o&&o.p&&(!t||r&4)&&Te(o,n,i,i[2],t?Ce(n,i[2],r,null):Oe(i[2]),null),(!t||r&1)&&C(e,"href",i[0]),(!t||r&2&&l!==(l=i[1]?"_blank":"_self"))&&C(e,"target",l)},i(i){t||(w(o,i),t=!0)},o(i){T(o,i),t=!1},d(i){i&&_(e),o&&o.d(i)}}}function Ft(s,e,l){let{$$slots:t={},$$scope:n}=e,{href:o}=e,{inNewTab:i=!1}=e;return s.$$set=r=>{"href"in r&&l(0,o=r.href),"inNewTab"in r&&l(1,i=r.inNewTab),"$$scope"in r&&l(2,n=r.$$scope)},[o,i,n,t]}class qt extends X{constructor(e){super(),J(this,e,Ft,Ht,Q,{href:0,inNewTab:1})}}function Pt(s){let e,l,t,n,o;return{c(){e=E("button"),l=E("div"),t=S(s[1]),this.h()},l(i){e=y(i,"BUTTON",{class:!0});var r=D(e);l=y(r,"DIV",{class:!0});var f=D(l);t=H(f,s[1]),f.forEach(_),r.forEach(_),this.h()},h(){C(l,"class","label svelte-1iuvypg"),C(e,"class","toggle svelte-1iuvypg"),te(e,"toggled",s[0])},m(i,r){k(i,e,r),g(e,l),g(l,t),n||(o=se(e,"click",s[2]),n=!0)},p(i,[r]){r&2&&oe(t,i[1]),r&1&&te(e,"toggled",i[0])},i:le,o:le,d(i){i&&_(e),n=!1,o()}}}function At(s,e,l){let{toggled:t=!1}=e,{onChange:n}=e,{label:o}=e;function i(){l(0,t=!t),n(t)}function r(f){l(0,t=f)}return s.$$set=f=>{"toggled"in f&&l(0,t=f.toggled),"onChange"in f&&l(3,n=f.onChange),"label"in f&&l(1,o=f.label)},[t,o,i,n,r]}class jt extends X{constructor(e){super(),J(this,e,At,Pt,Q,{toggled:0,onChange:3,label:1,setTo:4})}get setTo(){return this.$$.ctx[4]}}function je(s,e,l){const t=s.slice();return t[6]=e[l],t[7]=e,t[8]=l,t}function Le(s){let e,l=s[8],t;function n(...f){return s[2](s[8],s[6],...f)}const o=()=>s[3](e,l),i=()=>s[3](null,l);let r={label:s[6].name,onChange:n};return e=new jt({props:r}),o(),{c(){U(e.$$.fragment)},l(f){R(e.$$.fragment,f)},m(f,c){z(e,f,c),t=!0},p(f,c){s=f,l!==s[8]&&(i(),l=s[8],o());const a={};c&1&&(a.onChange=n),e.$set(a)},i(f){t||(w(e.$$.fragment,f),t=!0)},o(f){T(e.$$.fragment,f),t=!1},d(f){i(),G(e,f)}}}function Lt(s){let e,l,t,n,o,i,r=Ee,f=[];for(let a=0;a<r.length;a+=1)f[a]=Le(je(s,r,a));const c=a=>T(f[a],1,1,()=>{f[a]=null});return{c(){e=E("div"),l=E("h3"),t=S("Locale"),n=N(),o=E("div");for(let a=0;a<f.length;a+=1)f[a].c();this.h()},l(a){e=y(a,"DIV",{class:!0});var u=D(e);l=y(u,"H3",{});var h=D(l);t=H(h,"Locale"),h.forEach(_),n=M(u),o=y(u,"DIV",{class:!0});var m=D(o);for(let d=0;d<f.length;d+=1)f[d].l(m);m.forEach(_),u.forEach(_),this.h()},h(){C(o,"class","row svelte-t2sk2g"),C(e,"class","container svelte-t2sk2g")},m(a,u){k(a,e,u),g(e,l),g(l,t),g(e,n),g(e,o);for(let h=0;h<f.length;h+=1)f[h]&&f[h].m(o,null);i=!0},p(a,[u]){if(u&3){r=Ee;let h;for(h=0;h<r.length;h+=1){const m=je(a,r,h);f[h]?(f[h].p(m,u),w(f[h],1)):(f[h]=Le(m),f[h].c(),w(f[h],1),f[h].m(o,null))}for(x(),h=r.length;h<f.length;h+=1)c(h);ee()}},i(a){if(!i){for(let u=0;u<r.length;u+=1)w(f[u]);i=!0}},o(a){f=f.filter(Boolean);for(let u=0;u<f.length;u+=1)T(f[u]);i=!1},d(a){a&&_(e),ie(f,a)}}}function Ut(s,e,l){let t;it(s,ke,c=>l(4,t=c));let n=[];function o(c,a){ke.set(a),localStorage.setItem("locale",a),n.forEach(u=>{u!=c&&u.setTo(!1)})}function i(){let c=0;for(const a of Ee)if(a.value==t){n[c].setTo(!0);return}else c++}Ve(()=>{i()});const r=(c,a,u)=>{u&&o(n[c],a.value)};function f(c,a){Be[c?"unshift":"push"](()=>{n[a]=c,l(0,n)})}return[n,o,r,f]}class Rt extends X{constructor(e){super(),J(this,e,Ut,Lt,Q,{})}}async function zt(s){const e=await fetch(s);try{e.parsedBody=await e.json()}catch{throw new Error("Error parsing response body")}if(!e.ok)throw new Error(e.statusText);return e}const Gt="https://lazy-match.pockethost.io/api";async function Wt(s,e){const t=`${Gt}/collections/feedback/records`;var n=new Headers;n.append("Content-Type","application/json");var o=JSON.stringify({name:s,message:e}),i={method:"POST",headers:n,body:o};let r;try{return r=await zt(new Request(t,i)),!0}catch{return!1}}function Ue(s){let e,l;return e=new ue({props:{$$slots:{default:[Xt]},$$scope:{ctx:s}}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p(t,n){const o={};n&4&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Kt(s){let e;return{c(){e=S("Ok")},l(l){e=H(l,"Ok")},m(l,t){k(l,e,t)},d(l){l&&_(e)}}}function Xt(s){let e,l,t,n,o;return n=new fe({props:{onClick:s[1],$$slots:{default:[Kt]},$$scope:{ctx:s}}}),{c(){e=E("h2"),l=S("Success"),t=N(),U(n.$$.fragment)},l(i){e=y(i,"H2",{});var r=D(e);l=H(r,"Success"),r.forEach(_),t=M(i),R(n.$$.fragment,i)},m(i,r){k(i,e,r),g(e,l),k(i,t,r),z(n,i,r),o=!0},p(i,r){const f={};r&4&&(f.$$scope={dirty:r,ctx:i}),n.$set(f)},i(i){o||(w(n.$$.fragment,i),o=!0)},o(i){T(n.$$.fragment,i),o=!1},d(i){i&&_(e),i&&_(t),G(n,i)}}}function Jt(s){let e,l,t=s[0]&&Ue(s);return{c(){t&&t.c(),e=Z()},l(n){t&&t.l(n),e=Z()},m(n,o){t&&t.m(n,o),k(n,e,o),l=!0},p(n,[o]){n[0]?t?(t.p(n,o),o&1&&w(t,1)):(t=Ue(n),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(x(),T(t,1,1,()=>{t=null}),ee())},i(n){l||(w(t),l=!0)},o(n){T(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function Qt(s,e,l){let{isOpen:t}=e;function n(){ft()}return s.$$set=o=>{"isOpen"in o&&l(0,t=o.isOpen)},[t,n]}class Yt extends X{constructor(e){super(),J(this,e,Qt,Jt,Q,{isOpen:0})}}function Re(s){let e,l;return e=new ue({props:{$$slots:{default:[xt]},$$scope:{ctx:s}}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p(t,n){const o={};n&4&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function Zt(s){let e;return{c(){e=S("Ok")},l(l){e=H(l,"Ok")},m(l,t){k(l,e,t)},d(l){l&&_(e)}}}function xt(s){let e,l,t,n,o,i,r,f,c,a;return c=new fe({props:{onClick:s[1],$$slots:{default:[Zt]},$$scope:{ctx:s}}}),{c(){e=E("h2"),l=S("Error"),t=N(),n=E("p"),o=S("Something went wrong. "),i=E("br"),r=S(" Please try again later"),f=N(),U(c.$$.fragment),this.h()},l(u){e=y(u,"H2",{class:!0});var h=D(e);l=H(h,"Error"),h.forEach(_),t=M(u),n=y(u,"P",{});var m=D(n);o=H(m,"Something went wrong. "),i=y(m,"BR",{}),r=H(m," Please try again later"),m.forEach(_),f=M(u),R(c.$$.fragment,u),this.h()},h(){C(e,"class","error")},m(u,h){k(u,e,h),g(e,l),k(u,t,h),k(u,n,h),g(n,o),g(n,i),g(n,r),k(u,f,h),z(c,u,h),a=!0},p(u,h){const m={};h&4&&(m.$$scope={dirty:h,ctx:u}),c.$set(m)},i(u){a||(w(c.$$.fragment,u),a=!0)},o(u){T(c.$$.fragment,u),a=!1},d(u){u&&_(e),u&&_(t),u&&_(n),u&&_(f),G(c,u)}}}function el(s){let e,l,t=s[0]&&Re(s);return{c(){t&&t.c(),e=Z()},l(n){t&&t.l(n),e=Z()},m(n,o){t&&t.m(n,o),k(n,e,o),l=!0},p(n,[o]){n[0]?t?(t.p(n,o),o&1&&w(t,1)):(t=Re(n),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(x(),T(t,1,1,()=>{t=null}),ee())},i(n){l||(w(t),l=!0)},o(n){T(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function tl(s,e,l){let{isOpen:t}=e;function n(){be()}return s.$$set=o=>{"isOpen"in o&&l(0,t=o.isOpen)},[t,n]}class ll extends X{constructor(e){super(),J(this,e,tl,el,Q,{isOpen:0})}}function ze(s){let e,l;return e=new ue({props:{$$slots:{default:[ol]},$$scope:{ctx:s}}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p(t,n){const o={};n&270&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function nl(s){let e;return{c(){e=S("Send")},l(l){e=H(l,"Send")},m(l,t){k(l,e,t)},d(l){l&&_(e)}}}function sl(s){let e;return{c(){e=S("Cancel")},l(l){e=H(l,"Cancel")},m(l,t){k(l,e,t)},d(l){l&&_(e)}}}function ol(s){let e,l,t,n,o,i,r,f,c,a,u,h,m,d,$,b,p,V,L,P,W,j,K,F;return L=new fe({props:{onClick:s[5],disabled:!s[3],$$slots:{default:[nl]},$$scope:{ctx:s}}}),W=new fe({props:{onClick:s[4],$$slots:{default:[sl]},$$scope:{ctx:s}}}),{c(){e=E("h2"),l=S("Send Feedback"),t=N(),n=E("p"),o=S("If you spot an error, feel free to send me feedback and maybe I will correct it."),i=N(),r=E("div"),f=E("h3"),c=S("Name *"),a=N(),u=E("input"),h=N(),m=E("div"),d=E("h3"),$=S("Message *"),b=N(),p=E("textarea"),V=N(),U(L.$$.fragment),P=N(),U(W.$$.fragment),this.h()},l(O){e=y(O,"H2",{});var v=D(e);l=H(v,"Send Feedback"),v.forEach(_),t=M(O),n=y(O,"P",{});var B=D(n);o=H(B,"If you spot an error, feel free to send me feedback and maybe I will correct it."),B.forEach(_),i=M(O),r=y(O,"DIV",{class:!0});var A=D(r);f=y(A,"H3",{});var I=D(f);c=H(I,"Name *"),I.forEach(_),a=M(A),u=y(A,"INPUT",{type:!0,class:!0}),A.forEach(_),h=M(O),m=y(O,"DIV",{class:!0});var Y=D(m);d=y(Y,"H3",{});var ce=D(d);$=H(ce,"Message *"),ce.forEach(_),b=M(Y),p=y(Y,"TEXTAREA",{class:!0}),D(p).forEach(_),Y.forEach(_),V=M(O),R(L.$$.fragment,O),P=M(O),R(W.$$.fragment,O),this.h()},h(){C(u,"type","text"),C(u,"class","svelte-1i39bp6"),C(r,"class","input svelte-1i39bp6"),C(p,"class","svelte-1i39bp6"),C(m,"class","input svelte-1i39bp6")},m(O,v){k(O,e,v),g(e,l),k(O,t,v),k(O,n,v),g(n,o),k(O,i,v),k(O,r,v),g(r,f),g(f,c),g(r,a),g(r,u),de(u,s[1]),k(O,h,v),k(O,m,v),g(m,d),g(d,$),g(m,b),g(m,p),de(p,s[2]),k(O,V,v),z(L,O,v),k(O,P,v),z(W,O,v),j=!0,K||(F=[se(u,"input",s[6]),se(p,"input",s[7])],K=!0)},p(O,v){v&2&&u.value!==O[1]&&de(u,O[1]),v&4&&de(p,O[2]);const B={};v&8&&(B.disabled=!O[3]),v&256&&(B.$$scope={dirty:v,ctx:O}),L.$set(B);const A={};v&256&&(A.$$scope={dirty:v,ctx:O}),W.$set(A)},i(O){j||(w(L.$$.fragment,O),w(W.$$.fragment,O),j=!0)},o(O){T(L.$$.fragment,O),T(W.$$.fragment,O),j=!1},d(O){O&&_(e),O&&_(t),O&&_(n),O&&_(i),O&&_(r),O&&_(h),O&&_(m),O&&_(V),G(L,O),O&&_(P),G(W,O),K=!1,Ie(F)}}}function il(s){let e,l,t=s[0]&&ze(s);return{c(){t&&t.c(),e=Z()},l(n){t&&t.l(n),e=Z()},m(n,o){t&&t.m(n,o),k(n,e,o),l=!0},p(n,[o]){n[0]?t?(t.p(n,o),o&1&&w(t,1)):(t=ze(n),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(x(),T(t,1,1,()=>{t=null}),ee())},i(n){l||(w(t),l=!0)},o(n){T(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function rl(s,e,l){let t,{isOpen:n}=e;function o(){be()}let i="",r="";async function f(){await Wt(i,r)?ae(Yt,{}):ae(ll,{})}function c(){i=this.value,l(1,i)}function a(){r=this.value,l(2,r)}return s.$$set=u=>{"isOpen"in u&&l(0,n=u.isOpen)},s.$$.update=()=>{s.$$.dirty&6&&l(3,t=i.length>0&&r.length>0)},[n,i,r,t,o,f,c,a]}class fl extends X{constructor(e){super(),J(this,e,rl,il,Q,{isOpen:0})}}function Ge(s){let e,l;return e=new ue({props:{$$slots:{default:[cl]},$$scope:{ctx:s}}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p(t,n){const o={};n&4&&(o.$$scope={dirty:n,ctx:t}),e.$set(o)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function al(s){let e;return{c(){e=S("Feedback")},l(l){e=H(l,"Feedback")},m(l,t){k(l,e,t)},d(l){l&&_(e)}}}function ul(s){let e;return{c(){e=S("GitHub")},l(l){e=H(l,"GitHub")},m(l,t){k(l,e,t)},d(l){l&&_(e)}}}function cl(s){let e,l,t,n,o,i,r,f,c;return n=new Rt({}),i=new fe({props:{onClick:s[1],$$slots:{default:[al]},$$scope:{ctx:s}}}),f=new qt({props:{href:"https://github.com/hinkeljo/feh-timeline",inNewTab:!0,$$slots:{default:[ul]},$$scope:{ctx:s}}}),{c(){e=E("h2"),l=S("About"),t=N(),U(n.$$.fragment),o=N(),U(i.$$.fragment),r=N(),U(f.$$.fragment)},l(a){e=y(a,"H2",{});var u=D(e);l=H(u,"About"),u.forEach(_),t=M(a),R(n.$$.fragment,a),o=M(a),R(i.$$.fragment,a),r=M(a),R(f.$$.fragment,a)},m(a,u){k(a,e,u),g(e,l),k(a,t,u),z(n,a,u),k(a,o,u),z(i,a,u),k(a,r,u),z(f,a,u),c=!0},p(a,u){const h={};u&4&&(h.$$scope={dirty:u,ctx:a}),i.$set(h);const m={};u&4&&(m.$$scope={dirty:u,ctx:a}),f.$set(m)},i(a){c||(w(n.$$.fragment,a),w(i.$$.fragment,a),w(f.$$.fragment,a),c=!0)},o(a){T(n.$$.fragment,a),T(i.$$.fragment,a),T(f.$$.fragment,a),c=!1},d(a){a&&_(e),a&&_(t),G(n,a),a&&_(o),G(i,a),a&&_(r),G(f,a)}}}function _l(s){let e,l,t=s[0]&&Ge(s);return{c(){t&&t.c(),e=Z()},l(n){t&&t.l(n),e=Z()},m(n,o){t&&t.m(n,o),k(n,e,o),l=!0},p(n,[o]){n[0]?t?(t.p(n,o),o&1&&w(t,1)):(t=Ge(n),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(x(),T(t,1,1,()=>{t=null}),ee())},i(n){l||(w(t),l=!0)},o(n){T(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function hl(s,e,l){let{isOpen:t}=e;function n(){ae(fl,{})}return s.$$set=o=>{"isOpen"in o&&l(0,t=o.isOpen)},[t,n]}class dl extends X{constructor(e){super(),J(this,e,hl,_l,Q,{isOpen:0})}}function ml(s){let e,l,t,n;return{c(){e=E("button"),l=S("i"),this.h()},l(o){e=y(o,"BUTTON",{class:!0});var i=D(e);l=H(i,"i"),i.forEach(_),this.h()},h(){C(e,"class","svelte-jtm7z6")},m(o,i){k(o,e,i),g(e,l),t||(n=se(e,"click",s[0]),t=!0)},p:le,i:le,o:le,d(o){o&&_(e),t=!1,n()}}}function vl(s){function e(){ae(dl,{})}return[e]}class pl extends X{constructor(e){super(),J(this,e,vl,ml,Q,{})}}function We(s,e,l){const t=s.slice();return t[11]=e[l],t}function Ke(s,e,l){const t=s.slice();return t[14]=e[l],t}function Xe(s,e,l){const t=s.slice();return t[17]=e[l],t}function Je(s,e,l){const t=s.slice();return t[20]=e[l],t[22]=l,t}function Qe(s,e,l){const t=s.slice();return t[23]=e[l],t}function Ye(s,e,l){const t=s.slice();return t[20]=e[l],t[22]=l,t}function Ze(s){let e,l=s[22]+1+"",t,n;return{c(){e=E("div"),t=S(l),n=N(),this.h()},l(o){e=y(o,"DIV",{class:!0});var i=D(e);t=H(i,l),n=M(i),i.forEach(_),this.h()},h(){C(e,"class","day svelte-1irx9uf")},m(o,i){k(o,e,i),g(e,t),g(e,n)},p:le,d(o){o&&_(e)}}}function xe(s){let e,l,t,n=s[23].name+"",o,i,r,f,c=Array(s[23].days),a=[];for(let u=0;u<c.length;u+=1)a[u]=Ze(Ye(s,c,u));return{c(){e=E("div"),l=E("div"),t=E("h2"),o=S(n),i=N(),r=E("div");for(let u=0;u<a.length;u+=1)a[u].c();f=N(),this.h()},l(u){e=y(u,"DIV",{class:!0});var h=D(e);l=y(h,"DIV",{class:!0});var m=D(l);t=y(m,"H2",{});var d=D(t);o=H(d,n),d.forEach(_),m.forEach(_),i=M(h),r=y(h,"DIV",{class:!0});var $=D(r);for(let b=0;b<a.length;b+=1)a[b].l($);$.forEach(_),f=M(h),h.forEach(_),this.h()},h(){C(l,"class","month_label sticky svelte-1irx9uf"),C(r,"class","day_list svelte-1irx9uf"),C(e,"class","month svelte-1irx9uf")},m(u,h){k(u,e,h),g(e,l),g(l,t),g(t,o),g(e,i),g(e,r);for(let m=0;m<a.length;m+=1)a[m]&&a[m].m(r,null);g(e,f)},p(u,h){if(h&4&&n!==(n=u[23].name+"")&&oe(o,n),h&4){c=Array(u[23].days);let m;for(m=0;m<c.length;m+=1){const d=Ye(u,c,m);a[m]?a[m].p(d,h):(a[m]=Ze(d),a[m].c(),a[m].m(r,null))}for(;m<a.length;m+=1)a[m].d(1);a.length=c.length}},d(u){u&&_(e),ie(a,u)}}}function et(s){let e;return{c(){e=E("div"),this.h()},l(l){e=y(l,"DIV",{class:!0,style:!0}),D(e).forEach(_),this.h()},h(){C(e,"class","day_separator svelte-1irx9uf"),q(e,"left",(s[22]+1)*we-1+"px"),q(e,"height",s[6]()+"px")},m(l,t){k(l,e,t)},p(l,t){t&64&&q(e,"height",l[6]()+"px")},d(l){l&&_(e)}}}function tt(s){let e,l,t=s[11].rows,n=[];for(let i=0;i<t.length;i+=1)n[i]=nt(Ke(s,t,i));const o=i=>T(n[i],1,1,()=>{n[i]=null});return{c(){for(let i=0;i<n.length;i+=1)n[i].c();e=Z()},l(i){for(let r=0;r<n.length;r+=1)n[r].l(i);e=Z()},m(i,r){for(let f=0;f<n.length;f+=1)n[f]&&n[f].m(i,r);k(i,e,r),l=!0},p(i,r){if(r&3){t=i[11].rows;let f;for(f=0;f<t.length;f+=1){const c=Ke(i,t,f);n[f]?(n[f].p(c,r),w(n[f],1)):(n[f]=nt(c),n[f].c(),w(n[f],1),n[f].m(e.parentNode,e))}for(x(),f=t.length;f<n.length;f+=1)o(f);ee()}},i(i){if(!l){for(let r=0;r<t.length;r+=1)w(n[r]);l=!0}},o(i){n=n.filter(Boolean);for(let r=0;r<n.length;r+=1)T(n[r]);l=!1},d(i){ie(n,i),i&&_(e)}}}function lt(s){let e,l;return e=new Tt({props:{event:s[17],anchor_date:s[1],width_day:we,has_immediate_followup:ot(s[14],s[17])}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p(t,n){const o={};n&1&&(o.event=t[17]),n&2&&(o.anchor_date=t[1]),n&1&&(o.has_immediate_followup=ot(t[14],t[17])),e.$set(o)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function nt(s){let e,l,t,n,o=s[14],i=[];for(let f=0;f<o.length;f+=1)i[f]=lt(Xe(s,o,f));const r=f=>T(i[f],1,1,()=>{i[f]=null});return{c(){e=E("div");for(let f=0;f<i.length;f+=1)i[f].c();l=N(),this.h()},l(f){e=y(f,"DIV",{class:!0});var c=D(e);for(let a=0;a<i.length;a+=1)i[a].l(c);l=M(c),c.forEach(_),this.h()},h(){C(e,"class","event_row svelte-1irx9uf")},m(f,c){k(f,e,c);for(let a=0;a<i.length;a+=1)i[a]&&i[a].m(e,null);g(e,l),n=!0},p(f,c){if(c&3){o=f[14];let a;for(a=0;a<o.length;a+=1){const u=Xe(f,o,a);i[a]?(i[a].p(u,c),w(i[a],1)):(i[a]=lt(u),i[a].c(),w(i[a],1),i[a].m(e,l))}for(x(),a=o.length;a<i.length;a+=1)r(a);ee()}},i(f){if(!n){for(let c=0;c<o.length;c+=1)w(i[c]);$e(()=>{n&&(t||(t=re(e,me,{x:100},!0)),t.run(1))}),n=!0}},o(f){i=i.filter(Boolean);for(let c=0;c<i.length;c+=1)T(i[c]);t||(t=re(e,me,{x:100},!1)),t.run(0),n=!1},d(f){f&&_(e),ie(i,f),f&&t&&t.end()}}}function st(s){let e,l,t=s[11].shown&&tt(s);return{c(){t&&t.c(),e=Z()},l(n){t&&t.l(n),e=Z()},m(n,o){t&&t.m(n,o),k(n,e,o),l=!0},p(n,o){n[11].shown?t?(t.p(n,o),o&1&&w(t,1)):(t=tt(n),t.c(),w(t,1),t.m(e.parentNode,e)):t&&(x(),T(t,1,1,()=>{t=null}),ee())},i(n){l||(w(t),l=!0)},o(n){T(t),l=!1},d(n){t&&t.d(n),n&&_(e)}}}function gl(s){let e;return{c(){e=S("Filter")},l(l){e=H(l,"Filter")},m(l,t){k(l,e,t)},d(l){l&&_(e)}}}function $l(s){let e,l,t,n,o,i,r,f,c,a,u,h,m,d,$,b,p,V,L=s[2],P=[];for(let v=0;v<L.length;v+=1)P[v]=xe(Qe(s,L,v));let W=Array(s[7]()),j=[];for(let v=0;v<W.length;v+=1)j[v]=et(Je(s,W,v));let K=s[0],F=[];for(let v=0;v<K.length;v+=1)F[v]=st(We(s,K,v));const O=v=>T(F[v],1,1,()=>{F[v]=null});return $=new fe({props:{onClick:s[8],$$slots:{default:[gl]},$$scope:{ctx:s}}}),p=new pl({}),{c(){e=E("div"),l=E("div"),t=E("div"),n=E("h1"),o=S("FEH Timeline"),i=N(),r=E("div");for(let v=0;v<P.length;v+=1)P[v].c();f=N(),c=E("div");for(let v=0;v<j.length;v+=1)j[v].c();a=N(),u=E("div"),h=N();for(let v=0;v<F.length;v+=1)F[v].c();m=N(),d=E("div"),U($.$$.fragment),b=N(),U(p.$$.fragment),this.h()},l(v){e=y(v,"DIV",{class:!0,style:!0});var B=D(e);l=y(B,"DIV",{class:!0});var A=D(l);t=y(A,"DIV",{class:!0});var I=D(t);n=y(I,"H1",{class:!0});var Y=D(n);o=H(Y,"FEH Timeline"),Y.forEach(_),I.forEach(_),i=M(A),r=y(A,"DIV",{class:!0});var ce=D(r);for(let ne=0;ne<P.length;ne+=1)P[ne].l(ce);ce.forEach(_),A.forEach(_),f=M(B),c=y(B,"DIV",{class:!0});var _e=D(c);for(let ne=0;ne<j.length;ne+=1)j[ne].l(_e);a=M(_e),u=y(_e,"DIV",{class:!0,style:!0}),D(u).forEach(_),_e.forEach(_),h=M(B);for(let ne=0;ne<F.length;ne+=1)F[ne].l(B);B.forEach(_),m=M(v),d=y(v,"DIV",{class:!0});var he=D(d);R($.$$.fragment,he),b=M(he),R(p.$$.fragment,he),he.forEach(_),this.h()},h(){C(n,"class","svelte-1irx9uf"),C(t,"class","row sticky svelte-1irx9uf"),C(r,"class","month_list svelte-1irx9uf"),C(l,"class","timeline_header sticky svelte-1irx9uf"),C(u,"class","current_time svelte-1irx9uf"),q(u,"left",s[5]()+"px"),q(u,"height",s[6]()+"px"),C(c,"class","day_separator_container svelte-1irx9uf"),C(e,"class","timeline svelte-1irx9uf"),q(e,"--width_day",we+"px"),q(e,"--height_day",ye+"px"),q(e,"--row_gap",s[4]+"px"),C(d,"class","button_bar svelte-1irx9uf")},m(v,B){k(v,e,B),g(e,l),g(l,t),g(t,n),g(n,o),g(l,i),g(l,r);for(let A=0;A<P.length;A+=1)P[A]&&P[A].m(r,null);s[9](l),g(e,f),g(e,c);for(let A=0;A<j.length;A+=1)j[A]&&j[A].m(c,null);g(c,a),g(c,u),g(e,h);for(let A=0;A<F.length;A+=1)F[A]&&F[A].m(e,null);k(v,m,B),k(v,d,B),z($,d,null),g(d,b),z(p,d,null),V=!0},p(v,[B]){if(B&4){L=v[2];let I;for(I=0;I<L.length;I+=1){const Y=Qe(v,L,I);P[I]?P[I].p(Y,B):(P[I]=xe(Y),P[I].c(),P[I].m(r,null))}for(;I<P.length;I+=1)P[I].d(1);P.length=L.length}if(B&192){W=Array(v[7]());let I;for(I=0;I<W.length;I+=1){const Y=Je(v,W,I);j[I]?j[I].p(Y,B):(j[I]=et(Y),j[I].c(),j[I].m(c,a))}for(;I<j.length;I+=1)j[I].d(1);j.length=W.length}if((!V||B&32)&&q(u,"left",v[5]()+"px"),(!V||B&64)&&q(u,"height",v[6]()+"px"),B&3){K=v[0];let I;for(I=0;I<K.length;I+=1){const Y=We(v,K,I);F[I]?(F[I].p(Y,B),w(F[I],1)):(F[I]=st(Y),F[I].c(),w(F[I],1),F[I].m(e,null))}for(x(),I=K.length;I<F.length;I+=1)O(I);ee()}(!V||B&16)&&q(e,"--row_gap",v[4]+"px");const A={};B&134217728&&(A.$$scope={dirty:B,ctx:v}),$.$set(A)},i(v){if(!V){for(let B=0;B<K.length;B+=1)w(F[B]);w($.$$.fragment,v),w(p.$$.fragment,v),V=!0}},o(v){F=F.filter(Boolean);for(let B=0;B<F.length;B+=1)T(F[B]);T($.$$.fragment,v),T(p.$$.fragment,v),V=!1},d(v){v&&_(e),ie(P,v),s[9](null),ie(j,v),ie(F,v),v&&_(m),v&&_(d),G($),G(p)}}}let we=48,ye=48;function ot(s,e){let l=s.indexOf(e);if(l<s.length-1)return s[l+1].date_start===e.date_end}function bl(s,e,l){let t,n,o,i,{anchor_date:r}=e,{months:f}=e,{event_data:c}=e,a;function u(){ae(St,{eventData:c,onChange:()=>{l(0,c=[...c])}})}Ve(()=>{{let m=o()-window.innerWidth/2;window.scrollTo(m,0)}});function h(m){Be[m?"unshift":"push"](()=>{a=m,l(3,a)})}return s.$$set=m=>{"anchor_date"in m&&l(1,r=m.anchor_date),"months"in m&&l(2,f=m.months),"event_data"in m&&l(0,c=m.event_data)},s.$$.update=()=>{s.$$.dirty&4&&l(7,n=()=>{let m=0;return f.forEach(d=>{m+=d.days}),m}),s.$$.dirty&2&&l(5,o=()=>{let m=new Date(r);return(new Date().valueOf()-m.valueOf())/(1e3*60*60*24)*we}),s.$$.dirty&17&&l(6,i=()=>{let m=0;return c.forEach(d=>{m+=d.rows.length}),m*(ye+t)}),s.$$.dirty&8&&(a==null||a.offsetHeight)},l(4,t=ye/3),[c,r,f,a,t,o,i,n,u,h]}class wl extends X{constructor(e){super(),J(this,e,bl,$l,Q,{anchor_date:1,months:2,event_data:0})}}function kl(s){let e,l;return e=new wl({props:{months:s[0].months,event_data:s[0].event_data,anchor_date:s[0].anchor_date}}),{c(){U(e.$$.fragment)},l(t){R(e.$$.fragment,t)},m(t,n){z(e,t,n),l=!0},p(t,[n]){const o={};n&1&&(o.months=t[0].months),n&1&&(o.event_data=t[0].event_data),n&1&&(o.anchor_date=t[0].anchor_date),e.$set(o)},i(t){l||(w(e.$$.fragment,t),l=!0)},o(t){T(e.$$.fragment,t),l=!1},d(t){G(e,t)}}}function El(s,e,l){let{data:t}=e;return s.$$set=n=>{"data"in n&&l(0,t=n.data)},[t]}class Tl extends X{constructor(e){super(),J(this,e,El,kl,Q,{data:0})}}export{Tl as default};
